"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[3154],{55449:function(e,t,r){r.d(t,{FV:function(){return c},FZ:function(){return d},Q2:function(){return p},Zd:function(){return m},dm:function(){return s},eQ:function(){return u},hj:function(){return h},oe:function(){return v}});var n=r(4942),i=r(8357),o=r(48218),l=r(87491);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){return e.error?null:{imgL:e.desktop&&e.desktop.url,imgS:e.mobile&&e.mobile.url,alt:e.altText||""}}function u(e){return{imgL:e||null,imgS:e||null,alt:""}}function c(e,t){return!e||0===e.length||1===e.length&&!e[0]?[u(window.location.origin+t)]:e.map(u)}function d(e,t){var r=e.country,n=e.language,o=e.currency;return{price:t,priceCurrency:i.uf.toCurrency(t,r,n,o)}}function p(e,t,r){var n=e.country,o=e.language;return{value:t,formattedValue:i.uf.toStringNumber(t,n,o),unit:r}}function m(e,t){var r=e.country,o=e.language,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t){var u=t.address[0],c=l.a.formatDealer(t,o),d=0;try{var p;d=Number(null==u||null===(p=u.location)||void 0===p?void 0:p.dist).toFixed()}catch(e){console.error("Error parsing distance for dealer ".concat(t))}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c,{distance:i.uf.toFormattedStringNumber(u.location.dist,r,o),distanceRounded:d,notes:s})}return null}function h(e,t,r){for(var n=e.split(" "),i="",o=0;o<n.length;o+=1)n[o]===t&&1===n[o].length?i+="'".concat(n[o],"'"):i+=n[o],o!==n.length-1&&(i+=" ");return r&&(i="".concat(r," ").concat(i)),i}function v(e){var t,r,n,l,a,s,u,c,d,p;return e.type===o.gT.VEHICLE_TYPE.CPO&&window.mbNafta.pageData.country===o.gT.COUNTRIES.US&&null!=e&&e.exteriorBaseImage&&null!=e&&e.interiorBaseImage&&(null!==(r=i.sp.getState())&&void 0!==r&&r.small?(e.usedVehicleAttributes.images.unshift(null===(n=e.interiorBaseImage)||void 0===n||null===(l=n.mobile)||void 0===l?void 0:l.url),e.usedVehicleAttributes.images.unshift(null===(a=e.exteriorBaseImage)||void 0===a||null===(s=a.mobile)||void 0===s?void 0:s.url)):(e.usedVehicleAttributes.images.unshift(null===(u=e.interiorBaseImage)||void 0===u||null===(c=u.desktop)||void 0===c?void 0:c.url),e.usedVehicleAttributes.images.unshift(null===(d=e.exteriorBaseImage)||void 0===d||null===(p=d.desktop)||void 0===p?void 0:p.url))),null==e||null===(t=e.usedVehicleAttributes)||void 0===t?void 0:t.images}t.ZP={createDealerObject:m,createMediaObject:s,createMediaObjectFromPath:u,createMileageObject:p,createPricingObject:d,getVehicleModelAriaLabel:h,jellyBeanPoVehiclesOveride:v}},73154:function(e,t,r){r.d(t,{eN:function(){return n.ZP},Im:function(){return _},Y4:function(){return Z}});var n=r(55449),i=r(4942),o=r(8357),l=r(87757),a=r.n(l),s=r(15861),u=r(13629);function c(e,t){var r=e.endpoint,n=e.recaptchaConfig;return u.N6.getToken(n).then((function(e){var n={headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href,"X-RECAPTCHA-TOKEN":e},method:"POST"};return fetch("".concat(r).concat(t.vin),n)})).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}function d(){return(d=(0,s.Z)(a().mark((function e(t,r,n){var i,l,s,u,d,p,m,h,v,f,g,y,b,T,O,P,A,E,I;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.country,l=t.language,s=n.cpoPreOwnedWarrantyTargetMileage,u=n.cpoPreOwnedWarrantyTargetModelYears,d=n.newVehicleWarrantyDuration,p=n.newVehicleWarrantyMileage,m=r.certified,h=r.mileage,v=null,e.prev=4,g=null,y=null,e.next=9,c(t,r);case 9:y=e.sent,g=null===(f=y.result)||void 0===f?void 0:f.startDate,b=new Date(g).toUTCString().slice(0,-4),b=new Date(b),T=new Date(b).setFullYear(b.getFullYear()+u),O=new Date(b).setFullYear(b.getFullYear()+d),P=s-h.value,A=T-Date.now(),E=p-h.value,I=O-Date.now(),v={inServiceDate:b,isCpoPreOwnedWarrantyActive:P>0&&A>0,isCpoWarrantyActive:m,isNewWarrantyActive:E>0&&I>0,remainingMiles:o.uf.toStringNumber(E,i,l),newWarrantyExpirationDate:o.p6.toShortDate(new Date(O).toDateString(),i)},e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),console.log(e.t0);case 28:return e.abrupt("return",v);case 29:case"end":return e.stop()}}),e,null,[[4,25]])})))).apply(this,arguments)}var p={getVehicleWarranty:function(e,t,r){return d.apply(this,arguments)}};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=e.filter((function(e){return e.name===t}))[0];return o&&{id:i||o.name,icon:n,title:r,subtitle:o.subtitle,value:"BATTERY_CAPACITY"===o.name||"ELECTRIC_RANGE"===o.name?"".concat(o.value," (est.)"):o.value}}function f(e,t,r){var n=e.find((function(e){return e.code===t}));return n&&{id:n.code,title:r,subtitle:n.subTitle,value:n.description}}function g(e,t,r){return{id:(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")||e,icon:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,title:t,value:r}}function y(e,t){var r={primary:[v(e.properties,"EXTERIOR_COLOR",t.exteriorColor,null,"paint"),v(e.properties,"INTERIOR_COLOR",t.interiorColor,null,"upholstery"),v(e.properties,"WHEELS",t.wheels,null,"wheels"),v(e.properties,"TRIM",t.trim,null,"trim")],secondary:[v(e.properties,"NET_POWER",t.power),v(e.properties,"PASSENGER_CAPACITY",t.passengerCapacity),v(e.properties,"CARGO_CAPACITY",t.cargoCapacity),v(e.properties,"ENGINE",t.engine,"NET_POWER"),v(e.properties,"NET_TORQUE",t.torque),v(e.properties,"ACCELERATION",t.acceleration),v(e.properties,"AUTOMATIC_TRANSMISSION",t.automaticTransmission,"GEARS"),v(e.properties,"BATTERY_CAPACITY",t.batteryCapacity),v(e.properties,"ELECTRIC_RANGE",t.electricRange)]};return r.primary=r.primary.filter((function(e){return void 0!==e})),r.secondary=r.secondary.filter((function(e){return void 0!==e})),r}function b(e,t,r){var n,i,l,a,s,u,c,d,p={primary:[],secondary:[g("mileage",r.mileage,o.uf.toStringNumber(e.usedVehicleAttributes.mileage,t.country,t.language),"ACCELERATION"),g("vin",r.vin,e.vin,"MODEL-CHOOSER"),g("stockNumber",r.stockNumber,e.usedVehicleAttributes.stockId),g("driveTrain",r.transmission,e.usedVehicleAttributes.driveTrain.text),g("bodyStyle",r.bodyStyle,e.bodyStyleName),g("fuelType",r.fuelType,e.usedVehicleAttributes.fuelType.text)]};if(null!=e&&null!==(n=e.paint)&&void 0!==n&&null!==(i=n.swatch)&&void 0!==i&&i.url?p.primary.push(g("exteriorColor",r.exteriorColor,e.paint.name,null,"paint")):p.secondary.splice(1,0,g("exteriorColor",r.exteriorColor,e.paint.name,null,"paint")),null!=e&&null!==(l=e.upholstery)&&void 0!==l&&null!==(a=l.swatch)&&void 0!==a&&a.url)p.primary.push(g("interiorColor",r.interiorColor,e.upholstery.name,null,"upholstery"));else{var m=p.secondary.findIndex((function(e){return"paint"===e.id})),h=-1!==m?m+1:1;p.secondary.splice(h,0,g("interiorColor",r.interiorColor,e.upholstery.name,null,"upholstery"))}return null!=e&&null!==(s=e.wheels)&&void 0!==s&&null!==(u=s.swatch)&&void 0!==u&&u.url&&p.primary.push(g("wheels",r.wheels,e.wheels.name,null)),null!=e&&null!==(c=e.trim)&&void 0!==c&&null!==(d=c.swatch)&&void 0!==d&&d.url&&p.primary.push(g("trim",r.trim,e.trim.name,null)),p}function T(e){return e.map((function(e){return"string"==typeof e?{code:"custom",desc:e}:e}))}function O(e){return e.map((function(e){return{id:e.id,isOption:e.isOption,featureText:e.name,option:e.isOption?{id:e.id,name:e.name,desc:e.description,media:e.image?[{imgL:e.image.url,alt:e.image.altText}]:null,disclaimers:e.disclaimers&&T(e.disclaimers)}:null}}))}function P(e,t,r){var n={section:e,sectionDescription:t,featureList:[]};return n.featureList=r.map((function(e){var t=!!e.imgL||!!e.imgS;return{id:e.code,isOption:t,featureText:e.text,option:t?{id:e.code,name:e.text,desc:e.description,media:t?[{imgL:e.imgL,imgS:e.imgS,alt:e.mediaAlt}]:null,disclaimers:e.disclaimers&&T(e.disclaimers)}:null}})),n}function A(e,t){var r=[];if(e.optionList){var n=P("options",t.options,e.optionList);r.push(n)}if(e.comfortList){var i=P("comfort",t.comfort,e.comfortList);r.push(i)}if(e.safetyList){var o=P("safety",t.safety,e.safetyList);r.push(o)}if(e.performanceList){var l=P("performance",t.performance,e.performanceList);r.push(l)}return r}function E(e,t,r,i){try{var o,l,a,s,u=i.result.vehicle,c="SUV"===u.bodyStyleId?null==t||null===(o=t.fallBackImage)||void 0===o?void 0:o.suv:null==t||null===(l=t.fallBackImage)||void 0===l?void 0:l.default,d=(0,n.FZ)(e,null!=u&&u.inventoryPrice?u.inventoryPrice:u.msrp);return u&&(u.msrp=(0,n.FZ)(e,u.msrp),u.hasMSRP=!u.contactDealerForPrice,u.exteriorBaseImage=u.exteriorBaseImage?(0,n.dm)(u.exteriorBaseImage):(0,n.eQ)(c),u.interiorBaseImage=u.interiorBaseImage?(0,n.dm)(u.interiorBaseImage):(0,n.eQ)(c),u.isBBD=!!u.exteriorBaseImage&&"BBD"===u.exteriorBaseImage.type,u.isCPO=!1,u.isNew=!0,u.isPreOwned=!1,u.headerText=null===(a=u.vehicleAttributes)||void 0===a?void 0:a.headerText,u.fallbackImage=c,u.options=O(u.options),u.packages=u.packages.map((function(e){return{id:e.id,name:e.name,features:e.includedOptions?O(e.includedOptions):[],disclaimers:e.disclaimers}})),u.specifications=function(e,t){var r={primary:[v(e.properties,"EXTERIOR_COLOR",t.exteriorColor,null,"paint"),v(e.properties,"INTERIOR_COLOR",t.interiorColor,null,"upholstery"),v(e.properties,"WHEELS",t.wheels,null,"wheels"),v(e.properties,"TRIM",t.trim,null,"trim")],secondary:[v(e.properties,"ENGINE",t.engine,"NET_POWER"),v(e.properties,"NET_POWER",t.power),v(e.properties,"NET_TORQUE",t.torque),v(e.properties,"ACCELERATION",t.acceleration),v(e.properties,"AUTOMATIC_TRANSMISSION",t.automaticTransmission,"GEARS"),v(e.properties,"CITY_FUEL_ECONOMY",t.cityFuelEconomy),v(e.properties,"HIGHWAY_ESTIMATE",t.highwayFuelEconomy),v(e.properties,"PASSENGER_CAPACITY",t.passengerCapacity),v(e.properties,"CARGO_CAPACITY",t.cargoCapacity),v(e.properties,"TOWING_CAPACITY",t.towingCapacity)]};return r.primary=r.primary.filter((function(e){return void 0!==e})),r.secondary=r.secondary.filter((function(e){return void 0!==e})),r}(u,r),u.standardFeatures=[],u.reservable=!!u.dseDealerNewCar,u.reservePrice=u.dseDealerNewCar?d:null,u.dealer=null!==(s=u.vehicleAttributes)&&void 0!==s&&s.dealer?(0,n.Zd)(e,u.vehicleAttributes.dealer):{dealerId:u.dealerId}),u}catch(e){throw e}}function I(e,t,r,i){try{var o=i.result.vehicle;if(o){var l,a,s,u,c="SUV"===o.bodyStyleName?null==r||null===(l=r.fallBackImage)||void 0===l?void 0:l.suv:null==r||null===(a=r.fallBackImage)||void 0===a?void 0:a.default;o.usedVehicleAttributes.images=(0,n.oe)(o);var d=h({},o,{},o.usedVehicleAttributes,{available:!0,dealer:o.usedVehicleAttributes.dealer&&(0,n.Zd)(e,o.usedVehicleAttributes.dealer,o.usedVehicleAttributes.comments),exteriorBaseImage:null!==(s=o.usedVehicleAttributes)&&void 0!==s&&null!==(u=s.images)&&void 0!==u&&u[0]?o.usedVehicleAttributes.images[0]:(0,n.eQ)(c),exteriorColor:o.paint.name,fallbackImage:c,historyReport:{isEnabled:o.usedVehicleAttributes.historyReport,linkoutURL:o.usedVehicleAttributes.historyReportUrl},hasHomeDelivery:"B"===o.usedVehicleAttributes.deliveryOption||"D"===o.usedVehicleAttributes.deliveryOption,hasHomeTestDrive:"B"===o.usedVehicleAttributes.deliveryOption||"T"===o.usedVehicleAttributes.deliveryOption,hasMSRP:!o.contactDealerForPrice,images:(0,n.FV)(o.usedVehicleAttributes.images,c),interiorColor:o.upholstery.name,isCPO:o.usedVehicleAttributes.certified,isNew:!1,isPreOwned:!0,msrp:(0,n.FZ)(e,o.msrp),mileage:(0,n.Q2)(e,o.usedVehicleAttributes.mileage,o.usedVehicleAttributes.mileageUnit),name:o.usedVehicleAttributes.headerText,reserveDiscount:o.usedVehicleAttributes.reservePrice?(0,n.FZ)(e,o.msrp-o.usedVehicleAttributes.reservePrice):null,reservePrice:o.usedVehicleAttributes.reservePrice?(0,n.FZ)(e,o.usedVehicleAttributes.reservePrice):null,specifications:b(o,e,t),standardFeatures:A(o.usedVehicleAttributes,t)});return delete d.usedVehicleAttributes,d}return null}catch(e){throw e}}function C(e){return e?e.map((function(e){return h({},e,{featureList:(t=e.featureList,t.map((function(e){return{id:e.id,isOption:e.isOption,featureText:e.name,option:e.isOption?{id:e.id,name:e.name,desc:e.desc,media:e.media,disclaimers:e.disclaimers&&T(e.disclaimers)}:null}})))});var t})):[]}function w(e,t){if(!e)return[];var r=[f(e.specifications,"WHEELBASE",t.wheelbase),f(e.specifications,"OVERALL_LENGTH",t.overallLength),f(e.specifications,"OVERALL_WIDTH",t.overallWidth),f(e.specifications,"OVERALL_HEIGHT",t.overallHeight)].filter(Boolean);return{dimensions:{frontImage:e.info.frontBackDimensionsImage,sideImage:e.info.sideDimensionsImage,values:r}}}function V(e,t){var r=t.classId,n=t.modelId,i=t.year,l=(0,o.HD)({class:r,model:n,year:i});return fetch("".concat(e.endpoint).concat(l),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.ok?e.json():null}))}function L(e,t){var r=t.classId,n=t.modelId,i=t.year,l=(0,o.HD)({class:r,model:n,year:i,includeAll:!0});return fetch("".concat(e.endpoint).concat(l),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.ok?e.json():null}))}function R(e,t,r,n,i){var l=(0,o.HD)({vin:r,dealerId:t});return fetch("".concat(e.endpoint).concat(l),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()})).then(E.bind(null,e,n,i))}function x(e,t,r){return p.getVehicleWarranty(e,t,r)}function N(e,t,r,n,i){var l=(0,o.HD)({vin:r,dealerId:t});return fetch("".concat(e.endpoints.vehicleLookup).concat(l),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()})).then(I.bind(null,e,n,i)).catch((function(e){throw e}))}function D(){return D=(0,s.Z)(a().mark((function e(t,r,n,i,o){var l,s,u,c,d,p,m,h,v,f,g,y=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(y.length>5&&void 0!==y[5])||y[5],u=!(y.length>6&&void 0!==y[6])||y[6],c=!(y.length>7&&void 0!==y[7])||y[7],d=null,e.prev=4,e.next=7,N(t,r,n,i,o);case 7:d=e.sent,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(4),console.log(e.t0),e.t0;case 14:if(null===(l=d)||void 0===l||!l.detailedContent){e.next=39;break}if(!u){e.next=27;break}return e.prev=16,e.next=19,L({endpoint:t.endpoints.modelSpecs},d);case 19:p=e.sent,m=w(p,i),d.specifications.dimensions=m.dimensions,e.next=27;break;case 24:e.prev=24,e.t1=e.catch(16),console.log(e.t1);case 27:if(!s){e.next=39;break}return e.prev=28,e.next=31,V({endpoint:t.endpoints.vehicleFeatures},d);case 31:h=e.sent,(v=C(h)).length>0&&(d.standardFeatures=v),e.next=39;break;case 36:e.prev=36,e.t2=e.catch(28),console.log(e.t2);case 39:if(!c){e.next=51;break}return e.prev=40,f=t.endpoints.vehicleWarranty,e.next=44,x({country:t.country,endpoint:f,language:t.language,recaptchaConfig:t.recaptchaConfig},d,i.warranty);case 44:g=e.sent,d.warranty=g,e.next=51;break;case 48:e.prev=48,e.t3=e.catch(40),console.log(e.t3);case 51:return e.abrupt("return",d);case 52:case"end":return e.stop()}}),e,null,[[4,10],[16,24],[28,36],[40,48]])}))),D.apply(this,arguments)}function S(){return S=(0,s.Z)(a().mark((function e(t,r,n,i,o){var l,s,u,c,d,p,m,v=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!(v.length>5&&void 0!==v[5])||v[5],s=!(v.length>6&&void 0!==v[6])||v[6],e.prev=2,e.next=5,R(h({},t,{endpoint:t.endpoints.vehicleLookup}),r,n,i,o);case 5:(u=e.sent).partial&&(l=!1,s=!1),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.t0;case 13:if(!s){e.next=26;break}return e.prev=14,e.next=17,L({endpoint:t.endpoints.modelSpecs},u);case 17:(c=e.sent).info.isEQ&&(u.specifications=y(u,o)),d=w(c,o),u.specifications.dimensions=d.dimensions,e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),console.log(e.t1);case 26:if(!l){e.next=38;break}return e.prev=27,e.next=30,V({endpoint:t.endpoints.vehicleFeatures},u);case 30:p=e.sent,(m=C(p)).length>0&&(u.standardFeatures=m),e.next=38;break;case 35:e.prev=35,e.t2=e.catch(27),console.log(e.t2);case 38:return e.abrupt("return",u);case 39:case"end":return e.stop()}}),e,null,[[2,9],[14,23],[27,35]])}))),S.apply(this,arguments)}var _={getCPOVehicle:N,getCPOVehicleDetails:function(e,t,r,n,i){return D.apply(this,arguments)},getVehicle:R,getVehicleDetails:function(e,t,r,n,i){return S.apply(this,arguments)},getStandardFeatures:V},j=r(48218);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r,i){var o=r&&(r.feature||r.notMappedFeature);try{var l,a,s,u,c,d,p,m={},h=i.result.pagedVehicles?i.result.pagedVehicles.records:null!==(l=i.result.recommendations)&&void 0!==l?l:i.result.vehicles;return m.specialOffers=(null==i||null===(a=i.result)||void 0===a?void 0:a.specialOffers)||null,m.vehiclesList=h.map((function(r){var l,a,s,u,c,d=r.bodyStyleId===j.gT.BODY_STYLE.SUV?null===(l=t.fallBackImage)||void 0===l?void 0:l.suv:null===(a=t.fallBackImage)||void 0===a?void 0:a.default,p=(null===(s=r.vehicleAttributes)||void 0===s?void 0:s.dealer)||i.result.dealer,m=(0,n.FZ)(e,(null==r?void 0:r.inventoryPrice)||r.msrp);r.msrp=(0,n.FZ)(e,r.msrp),r.inventoryPrice=r.inventoryPrice?(0,n.FZ)(e,r.inventoryPrice):null;var h=null===(u=r.monthlyPaymentInfo)||void 0===u?void 0:u.find((function(e){return e.financingType===j.gT.MONTHLY_PAYMENT_TYPES.LEASE})),v=null===(c=r.monthlyPaymentInfo)||void 0===c?void 0:c.find((function(e){return e.financingType===j.gT.MONTHLY_PAYMENT_TYPES.FINANCE}));return(h||v)&&(Math.round(null==h?void 0:h.monthlyPayment).toString().length>4||Math.round(null==v?void 0:v.monthlyPayment).toString().length>4?(r.monthlyPaymentLease=null,r.monthlyPaymentFinance=null):(r.monthlyPaymentLease=h?(0,n.FZ)(e,Math.round(h.monthlyPayment)):null,r.monthlyPaymentFinance=v?(0,n.FZ)(e,Math.round(v.monthlyPayment)):null)),r.isBBD=!!r.exteriorBaseImage&&r.exteriorBaseImage.type===j.gT.EXTERIOR_BASE_IMAGE_TYPE.BBD,r.fallbackImage=d,r.headerText="".concat(r.year," ").concat(r.modelName),r.exteriorBaseImage=r.exteriorBaseImage?(0,n.dm)(r.exteriorBaseImage):(0,n.eQ)(d),r.hasFeatureMatch=!r.partial&&o,r.hasMSRP=999996!==r.msrp,r.dealer=(0,n.Zd)(e,p),i.result.dealer&&(r.dealer.dealerId=i.result.dealer.id),r.reservable=!!r.dseDealerNewCar,r.reservePrice=r.dseDealerNewCar?m:null,r})),m.totalCount=null==i||null===(s=i.result)||void 0===s||null===(u=s.pagedVehicles)||void 0===u||null===(c=u.paging)||void 0===c?void 0:c.totalCount,m.specialOffers=null==i||null===(d=i.result)||void 0===d?void 0:d.specialOffers,r.withFilters&&(m.filters=null==i||null===(p=i.result)||void 0===p?void 0:p.filters),m}catch(e){return console.log("Error while parsing vehicles response",e),[]}}function Y(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;try{var l,a,s,u,c,d,p,m={},h=o||{},v=h.status,f=(v=void 0===v?{}:v).ok,g=void 0===f||f,y=v.code,b=void 0===y?200:y,T=h.result;if(!g&&200!==b&&404!==b)throw Error;return 404!==b||T||!i?((l=o.result.pagedVehicles?o.result.pagedVehicles.records:null!==(a=null===(s=o.result.recommendations)||void 0===s?void 0:s.filter((function(e){return e.recommendationType!==j.gT.RECOMMENDATION_TYPE.MODEL})))&&void 0!==a?a:o.result.vehicles).length&&(m.vehiclesList=l.map((function(i){var o,l=i.bodyStyleName===j.gT.BODY_STYLE.SUV?t.fallBackImage.suv:t.fallBackImage.default,a=null===(o=i.monthlyPaymentInfo)||void 0===o?void 0:o.find((function(e){return e.financingType===j.gT.MONTHLY_PAYMENT_TYPES.FINANCE}));a&&(Math.round(null==a?void 0:a.monthlyPayment).toString().length>4?i.monthlyPaymentFinance=null:i.monthlyPaymentFinance=a?(0,n.FZ)(e,Math.round(a.monthlyPayment)):null),i.usedVehicleAttributes.images=(0,n.oe)(i);var s=B({},i,{},i.usedVehicleAttributes,{available:!0,dealer:(0,n.Zd)(e,i.usedVehicleAttributes.dealer),exteriorBaseImage:(0,n.eQ)(i.usedVehicleAttributes.images[0]),exteriorColor:i.paint&&i.paint.name,fallbackImage:l,hasHomeDelivery:i.usedVehicleAttributes.deliveryOption===j.gT.DELIVARY_OPTION.B||i.usedVehicleAttributes.deliveryOption===j.gT.DELIVARY_OPTION.D,hasHomeTestDrive:i.usedVehicleAttributes.deliveryOption===j.gT.DELIVARY_OPTION.B||i.usedVehicleAttributes.deliveryOption===j.gT.DELIVARY_OPTION.T,hasMSRP:!i.contactDealerForPrice,historyReport:{isEnabled:i.usedVehicleAttributes.historyReport,linkoutURL:i.usedVehicleAttributes.historyReportUrl},images:(0,n.FV)(i.usedVehicleAttributes.images,l),interiorColor:i.upholstery&&i.upholstery.name,msrp:(0,n.FZ)(e,i.msrp),mileage:(0,n.Q2)(e,i.usedVehicleAttributes.mileage,i.usedVehicleAttributes.mileageUnit),name:i.usedVehicleAttributes.headerText,optionList:i.usedVehicleAttributes.optionList,reservePrice:i.usedVehicleAttributes.reservePrice?(0,n.FZ)(e,i.usedVehicleAttributes.reservePrice):null,searchLocation:B({},r)});return delete s.usedVehicleAttributes,s}))),m.totalCount=null==o||null===(u=o.result)||void 0===u||null===(c=u.pagedVehicles)||void 0===c||null===(d=c.paging)||void 0===d?void 0:d.totalCount,m.filters=null==o||null===(p=o.result)||void 0===p?void 0:p.filters,m):l=[{status:404,classId:i.classId,bodyStyleId:i.bodyStyleId,modelName:i.modelName,associatedClass:{},associatedModelId:i.modelId,associatedIndex:null}]}catch(e){return console.error("Error while parsing vehicles response",e),[]}}function M(e,t,r){try{var i,o,l={},a=null!==(i=null==r||null===(o=r.result)||void 0===o?void 0:o.vehicles)&&void 0!==i?i:[];return l.vehiclesList=a.map((function(i){var o,l,a,s,u,c,d,p,m=i.type===j.gT.VEHICLE_TYPE.NEW,h=i.bodyStyleId===j.gT.BODY_STYLE.SUV?null===(o=t.fallBackImage)||void 0===o?void 0:o.suv:null===(l=t.fallBackImage)||void 0===l?void 0:l.default,v=(m?null===(a=i.vehicleAttributes)||void 0===a?void 0:a.dealer:null===(s=i.usedVehicleAttributes)||void 0===s?void 0:s.dealer)||r.result.dealer,f=(m?null==i?void 0:i.inventoryPrice:null===(u=i.usedVehicleAttributes)||void 0===u?void 0:u.reservePrice)||i.msrp,g=m?!!i.dseDealerNewCar:i.usedVehicleAttributes.reservable&&!!i.usedVehicleAttributes.reservePrice;!m&&i.usedVehicleAttributes&&(i.usedVehicleAttributes.images=(0,n.oe)(i));var y=e.country!==j.gT.COUNTRIES.US&&!m&&(null===(c=i.usedVehicleAttributes.images)||void 0===c?void 0:c.length)>0?i.usedVehicleAttributes.images[0]:i.exteriorBaseImage;return i.msrp=(0,n.FZ)(e,i.msrp),i.inventoryPrice=m&&i.inventoryPrice?(0,n.FZ)(e,i.inventoryPrice):null,i.fallbackImage=h,i.interiorColor=null===(d=i.upholstery)||void 0===d?void 0:d.name,i.exteriorColor=null===(p=i.paint)||void 0===p?void 0:p.name,i.exteriorBaseImage=y?(0,n.dm)(y):(0,n.eQ)(h),i.hasMSRP=!i.contactDealerForPrice,i.dealer=(0,n.Zd)(e,v),i.reservable=g,i.reservePrice=g?(0,n.FZ)(e,f):null,m||(i.certified=i.usedVehicleAttributes.certified,i.images=(0,n.FV)(i.usedVehicleAttributes.images,h),i.mileage=(0,n.Q2)(e,i.usedVehicleAttributes.mileage,i.usedVehicleAttributes.mileageUnit),i.optionList=i.usedVehicleAttributes.optionList),i})),l}catch(e){return console.log("Error while parsing vehicles response",e),[]}}var Z={getModelList:function(e){return fetch(e,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain"},redirect:"follow",referrer:"no-referrer"}).then((function(e){return e.json()}))},getCPORecommendations:function(e,t,r,n,i,l){var a=t.location,s=t.distance,u={bodystyle:r.bodystyle,count:e.count,distance:s,lat:a.type===j.gT.LOCATION_TYPE.PLACE?a.lat:null,lng:a.type===j.gT.LOCATION_TYPE.PLACE?a.lng:null,model:r.id,resvOnly:!1,start:e.start,zip:a.type===j.gT.LOCATION_TYPE.ZIP?a.value:null};n&&i&&(u.currentDealerOnly=n,u.dealerId=i);var c=(0,o.HD)(u);return fetch("".concat(e.recommendationsEndpoint).concat(c),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()})).then(Y.bind(null,e,l,a))},getCPOVehicles:function(e,t,r,n,i,l,a,s,u,c){var d=t.location,p=t.distance,m={count:e.count,distance:r.distance,driveTrain:r.driveTrain,exterior:r.exterior,fuelType:r.fuelType,invType:r.inventory||j.gT.ALL,lat:(null==d?void 0:d.type)===j.gT.LOCATION_TYPE.PLACE?d.lat:null,lng:(null==d?void 0:d.type)===j.gT.LOCATION_TYPE.PLACE?d.lng:null,maxMileage:r.maxMileage,maxPrice:r.maxPrice,maxYear:r.maxYear,mileage:r.mileage,minMileage:r.minMileage,minPrice:r.minPrice,minYear:r.minYear,model:r.model,minMonthlyPaymentFinance:r.minMonthlyPaymentFinance,maxMonthlyPaymentFinance:r.maxMonthlyPaymentFinance,resvOnly:a,sortBy:i,start:e.start,withFilters:r.withFilters,year:r.year,zip:(null==d?void 0:d.type)===j.gT.LOCATION_TYPE.ZIP?d.value:null};u&&c&&(m.currentDealerOnly=u,m.dealerId=c),m.distance=p;var h=(0,o.HD)(m);return fetch("".concat(e.endpoint).concat(h),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()})).then(Y.bind(null,e,s,d,{}))},getPredictions:function(e,t,r,n){var i="".concat(t).concat((0,o.HD)(e));return fetch(i,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain"},redirect:"follow",referrer:"no-referrer"}).then((function(e){return e.json()})).then(M.bind(null,r,n))},getRecommendations:function(e,t,r,n,i){var l="".concat(t).concat((0,o.HD)(e));return fetch(l,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain"},redirect:"follow",referrer:"no-referrer"}).then((function(e){return e.json()})).then(r.type===j.gT.VEHICLE_TYPE.NEW?F.bind(null,n,i,""):Y.bind(null,n,i,"",r))},getVehicles:function(e,t,r,n,i,l,a,s){var u=e.location,c=(0,o.HD)(B({},r,{dealerId:r.dealerId||t,start:e.start,count:e.count,sortBy:n,currentDealerOnly:l,reservable:s,lat:(null==u?void 0:u.type)===j.gT.LOCATION_TYPE.PLACE?u.lat:null,lng:(null==u?void 0:u.type)===j.gT.LOCATION_TYPE.PLACE?u.lng:null,zip:(null==u?void 0:u.type)===j.gT.LOCATION_TYPE.ZIP?u.value:null}));return fetch("".concat(e.endpoint).concat(c),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()})).then(F.bind(null,e,a,r))}}}}]);
//# sourceMappingURL=11ce1be508eeb6eaf5d3.bundle.js.map