"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[7214],{17214:function(e,t,i){i.d(t,{Z:function(){return le}});var n=i(15671),a=i(43144),r=i(48218),s=i(8357),o=i(82051),l=i(83224),c=i(30168);function h(){var e=(0,c.Z)(['\n    <picture class="model-page-hero__picture">\n        <source media="(max-width: 767px)" srcset="','">\n        <source media="(min-width: 768px)" srcset="','">\n    </picture>\n']);return h=function(){return e},e}var u=function(){function e(){(0,n.Z)(this,e),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.attachEvents(),this.renderLoader(),this.vehicleData=window.mbNafta.ns("pageData").vehicle,this.imgDimensions=null,this.modelHeroVehiclePictureElms=null,this.mediaServerApi=o.W.getInstance(),this.getVehicleImages()}},{key:"cacheDOM",value:function(){this.modelHeroVehicleElm=document.querySelector(".".concat("model-page-hero__vehicle"))}},{key:"attachEvents",value:function(){var e=this;s.Jw.addEventListener(r.fD.UPDATE_EXTERIOR_COLOR,(function(t){e.onExteriorColorUpdate(t)}))}},{key:"onExteriorColorUpdate",value:function(e){e.detail.optionId&&(this.vehicleData.options.exterior.PAINT[0].id=e.detail.optionId,this.renderLoader(),this.getVehicleImages())}},{key:"renderLoader",value:function(){this.loader=new l.T,s.jG.append(this.loader.render(),this.modelHeroVehicleElm)}},{key:"getVehicleImages",value:function(){var e=this;this.mediaServerApi.getBuildImage(this.vehicleData,{view:o.W.VIEW_TYPES.EXTERIOR,pov:o.W.POV_TYPES.FRONT,presetCategory:o.W.PRESET_CATEGORIES.MODEL}).then((function(t){e.getMediaServerType(),e.preloadImages(t.respObj)}))}},{key:"getMediaServerType",value:function(){var e=this;this.mediaServerApi.getMediaServerType({year:this.vehicleData.year,className:this.vehicleData.class,model:this.vehicleData.model}).then((function(t){t===o.W.MEDIA_SERVER_TYPES.BBD&&e.modelHeroVehicleElm.classList.add("model-page-hero__vehicle--bbd")}))}},{key:"preloadImages",value:function(e){var t=this,i=new Image;i.onload=function(){t.imgDimensions={width:i.width,height:i.height},i.onload=null,i.classList.add("model-page-hero__image"),i.setAttribute("alt",t.vehicleData.meta.altTag),t.renderVehicle(e,i)},i.src=s.sp.getState().small?e.small.retina:e.large.retina}},{key:"renderVehicle",value:function(e,t){var i,n,a=null!=this.modelHeroVehiclePictureElms;s.jG.append((i=e.large.retina,n=e.small.retina,(0,s.e2)(h(),n||i,i||n))({getNode:!0}),this.modelHeroVehicleElm),this.modelHeroVehiclePictureElms=Array.from(this.modelHeroVehicleElm.querySelectorAll(".".concat("model-page-hero__picture"))),s.jG.append(t,this.modelHeroVehiclePictureElms[this.modelHeroVehiclePictureElms.length-1]),this.loader.destroy(),a&&this.modelHeroVehicleElm.removeChild(this.modelHeroVehiclePictureElms.shift())}}]),e}(),d=function(){function e(){(0,n.Z)(this,e),this.modelHero=null,this.createModelHero()}return(0,a.Z)(e,[{key:"createModelHero",value:function(){this.modelHero=new u}}]),e}(),m=i(42982);function f(){var e=(0,c.Z)(['\n    <img src="','" alt="','" class="model-selector__image">\n']);return f=function(){return e},e}var v="model-selector",p="model-selector--open",g="no-scroll",b=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.imagesLoad=!1,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.currentScreenState=s.sp.getState(),this.isOpen=!1,this.cacheDOM(),this.attachEvents(),this.mediaServerApi=o.W.getInstance(),this.tabbables.disableTabbables(),this.tabOutsideHandler=new s.yM(this.modelSelectorElm,{onBlur:this.closeDrawer.bind(this)})}},{key:"cacheDOM",value:function(){this.bodyElm=document.querySelector("body"),this.htmlElm=document.querySelector("html"),this.modelSelectorElm=document.querySelector(".".concat(v)),this.modelSelectorItemsElm=document.querySelectorAll(".".concat("model-selector__menu-item")),this.modelSelectorToggleElm=document.querySelector(".".concat("model-selector__toggle")),this.modelSelectorClickGuardElm=document.querySelector(".".concat("model-selector__click-guard")),this.modelSelectorMenusetElm=document.querySelector(".".concat("model-selector__menuset")),this.modelSelectorMenusetWrapperElm=document.querySelector(".".concat("model-selector__menuset-wrapper")),this.disclaimerMarkersElm=Array.from(this.modelSelectorMenusetElm.querySelectorAll(".".concat("disclaimer__marker"))),this.topNavElm=window.mbNafta.ns("pageData").globalHeader?document.querySelector(".".concat("top-bar")):document.querySelector("#".concat("top-nav")),this.tabbables=new s.cs(this.modelSelectorMenusetElm)}},{key:"attachEvents",value:function(){var e=this;s.sp.addResizeListener(this.onScreenResize.bind(this),150),this.modelSelectorToggleElm.addEventListener(r.FP.CLICK,this.onToggleClick.bind(this)),this.disclaimerMarkersElm.forEach((function(t){t.addEventListener(r.FP.CLICK,e.onDisclaimerClick.bind(e))})),s.Jw.addEventListener(r.fD.GLOBAL_NAV_MENU_OPENED,this.closeDrawer.bind(this))}},{key:"getVehiclesImages",value:function(){var e=this;(0,m.Z)(this.modelSelectorItemsElm).forEach((function(t){var i={bodyStyle:window.mbNafta.ns("pageData").vehicle.bodyStyle,class:t.getAttribute("data-class"),model:t.getAttribute("data-model"),vehicleName:"",year:t.getAttribute("data-year"),options:{exterior:{PAINT:[{id:t.getAttribute("data-exterior-paint")}]}}};e.mediaServerApi.getBuildImage(i,{view:o.W.VIEW_TYPES.EXTERIOR_THUMB,pov:o.W.POV_TYPES.FRONT,presetCategory:o.W.PRESET_CATEGORIES.MODEL}).then((function(i){e.getMediaServerType(t),e.renderVehicle(i.respObj,t)})).catch((function(e){window.console.info("ModelSelector catch msg = ",e)}))}))}},{key:"getMediaServerType",value:function(e){this.mediaServerApi.getMediaServerType({year:e.getAttribute("data-year"),className:e.getAttribute("data-class"),model:e.getAttribute("data-model")}).then((function(t){t===o.W.MEDIA_SERVER_TYPES.BBD&&e.classList.add("model-selector__menu-item--bbd")}))}},{key:"renderVehicle",value:function(e,t){var i,n,a=(i=e.large[s.sp.isRetina()?"retina":"regular"],n=t.getAttribute("data-model"),(0,s.e2)(f(),i,n))({getNode:!0});a.onload=this.setDrawerHeight.bind(this),s.jG.insert(a,t.querySelector(".".concat("model-selector__image-wrapper")))}},{key:"onScreenResize",value:function(e){this.isOpen&&!s.Gu.objectsAreEqual(e,this.currentScreenState)?(this.currentScreenState=e,this.setDrawerHeight()):this.currentScreenState=e}},{key:"onKeydownHandler",value:function(e){this.isOpen&&e.keyCode===r.sd.ESC&&(e.preventDefault(),this.closeDrawer(),this.modelSelectorToggleElm.focus())}},{key:"onToggleClick",value:function(){this.isOpen?this.closeDrawer():this.openDrawer()}},{key:"onDisclaimerClick",value:function(){this.closeDrawer()}},{key:"openDrawer",value:function(){this.bodyElm.classList.add(g),this.htmlElm.classList.add(g),this.modelSelectorElm.classList.remove(v),this.modelSelectorElm.classList.add(p),this.setDrawerHeight(),!1===this.imagesLoad&&(this.getVehiclesImages(),this.imagesLoad=!0),this.isOpen=!0,this.tabbables.enableTabbables(),document.body.addEventListener(r.FP.KEYDOWN,this.onKeydownHandler.bind(this))}},{key:"closeDrawer",value:function(){this.bodyElm.classList.remove(g),this.htmlElm.classList.remove(g),this.modelSelectorElm.classList.add(v),this.modelSelectorElm.classList.remove(p),this.modelSelectorMenusetWrapperElm.style.height=null,this.modelSelectorMenusetElm.style.height=null,this.isOpen=!1,this.tabbables.disableTabbables(),document.body.removeEventListener(r.FP.KEYDOWN,this.onKeydownHandler)}},{key:"setDrawerHeight",value:function(){var e=this.modelSelectorElm.getBoundingClientRect();this.modelSelectorMenusetElm.style.height=null;var t=this.topNavElm?this.topNavElm.offsetHeight:0,i=Math.min(this.modelSelectorMenusetElm.getBoundingClientRect().height,window.innerHeight-(t+e.height));this.modelSelectorMenusetWrapperElm.style.height="".concat(i,"px"),this.modelSelectorMenusetElm.style.height="".concat(i,"px")}}]),e}(),E=function(){function e(){(0,n.Z)(this,e),this.modelSelector=null,this.createModelSelector()}return(0,a.Z)(e,[{key:"createModelSelector",value:function(){this.modelSelector=new b}}]),e}(),y=i(83189),O=i(14569),w="color-selector__colors__item-btn--selected",S="aria-checked",C=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.selectedColorSwatchElm=null,this.headerSwatchElm=null,this.headerSwatchContext=null,this.headerSwatchTransitionStep=0,this.carousel=null,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.colorsElm.length>0&&(this.carousel=new y.A(this.element),this.attachEvents(),this.primeHeaderSwatch(),this.createColorCategoryToolTip())}},{key:"cacheDOM",value:function(){var e=this;this.selectedColorLabelElms=[].slice.call(this.element.querySelectorAll(".".concat("color-selector__colors__name"))).reduce((function(e,t){return e[t.dataset.colorCategory]=t,e}),{}),this.headerSwatchElm=this.element.querySelector(".".concat("color-selector__circle__img")),this.colorsElm=Array.from(this.element.querySelectorAll(".".concat("color-selector__colors__item-btn"))),this.colorsElm.forEach((function(t){t.classList.contains(w)&&(e.selectedColorSwatchElm=t)}))}},{key:"attachEvents",value:function(){var e=this;this.colorsElm.forEach((function(t){t.addEventListener(r.FP.CLICK,(function(){return e.changeSelectedColor(t)})),t.addEventListener(r.FP.MOUSEENTER,(function(){return e.setColorLabel(t)})),t.addEventListener(r.FP.MOUSELEAVE,(function(){return e.restoreSelectedColor()}))}))}},{key:"primeHeaderSwatch",value:function(){var e=this,t=this.selectedColorSwatchElm.querySelector("img");t.complete&&t.naturalWidth>0?(this.headerSwatchContext=this.headerSwatchElm.getContext("2d"),this.headerSwatchContext.drawImage(t,0,0)):setTimeout((function(){e.primeHeaderSwatch()}),20)}},{key:"changeSelectedColor",value:function(e){this.selectedColorSwatchElm=e,this.colorsElm.forEach((function(e){e.classList.remove(w),e.setAttribute(S,!1)})),this.selectedColorSwatchElm.classList.add(w),this.selectedColorSwatchElm.setAttribute(S,!0),this.setColorLabel(this.selectedColorSwatchElm),this.updateHeaderSwatch(),s.Jw.dispatchEvent(s.Jw.createCustomEvent(r.fD.UPDATE_EXTERIOR_COLOR,{detail:{optionId:this.selectedColorSwatchElm.dataset.optionId}}))}},{key:"updateHeaderSwatch",value:function(){var e=this;this.headerSwatchContext.globalAlpha=1/30*this.headerSwatchTransitionStep,this.headerSwatchContext.drawImage(this.selectedColorSwatchElm.querySelector("img"),0,0),this.headerSwatchTransitionStep+=1,this.headerSwatchTransitionStep<=30?setTimeout((function(){e.updateHeaderSwatch()}),10):this.headerSwatchTransitionStep=0}},{key:"restoreSelectedColor",value:function(){var e=this.element.querySelector(".".concat(w));this.setColorLabel(e)}},{key:"setColorLabel",value:function(e){var t=this;Object.keys(this.selectedColorLabelElms).forEach((function(i){t.selectedColorLabelElms[i].innerHTML=e.dataset.colorCategory===i?e.dataset.colorName:""}))}},{key:"createColorCategoryToolTip",value:function(){var e=this.element.querySelectorAll("[data-tool-tip]");e.length&&[].slice.call(e).map(O.toolTipParser.createToolTip)}}]),e}(),D=function(){function e(t){(0,n.Z)(this,e),this.modelColorSelector=null,this.createModelColorSelector(t)}return(0,a.Z)(e,[{key:"createModelColorSelector",value:function(e){this.modelColorSelector=new C(e)}}]),e}(),T=function(){function e(t){(0,n.Z)(this,e),this.buildCtaElem=t,this.url=null,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.attachEvents(),this.url=this.buildCtaElem.getAttribute("href")}},{key:"attachEvents",value:function(){var e=this;s.Jw.addEventListener(r.fD.UPDATE_EXTERIOR_COLOR,(function(t){e.onExteriorColorUpdate(t.detail.optionId)}))}},{key:"onExteriorColorUpdate",value:function(e){if(e){var t=this.url;t=t.indexOf("?")>=0?"".concat(t,"&options=").concat(e):"".concat(t,"?options=").concat(e),this.buildCtaElem.setAttribute("href",t)}}}]),e}(),k=function(){function e(t){(0,n.Z)(this,e),this.modelCta=null,this.createModelCta(t)}return(0,a.Z)(e,[{key:"createModelCta",value:function(e){this.modelCta=new T(e)}}]),e}(),L=i(4788),A=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.accordionElement=this.element.querySelector("[data-accordion]"),this.accordion=L.accordionParser.createAccordion({element:this.accordionElement})}}]),e}(),P=i(4942),_=i(79645);function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function I(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(Object(i),!0).forEach((function(t){(0,P.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var N={dataAnalyticContainer:"{'blade': 'model package options modal'}"},j=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.modalOpenersElm=[],this.autoNumIncr=0,this.openDetailsModal=this.openDetailsModal.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.attachEvents(),this.accordion=L.accordionParser.createAccordion({element:this.accordionElm})}},{key:"cacheDOM",value:function(){this.accordionElm=this.element.querySelector("[".concat("data-accordion","]")),this.modalOpenersElm=this.element.querySelectorAll("[".concat("modal-detail-opener","]"))}},{key:"attachEvents",value:function(){var e=this;[].slice.call(this.modalOpenersElm).forEach((function(t){t.addEventListener(r.FP.CLICK,e.openDetailsModal)}))}},{key:"openDetailsModal",value:function(e){var t=e.currentTarget,i=this.filterOptionsByPackage(t.dataset.packageName),n={carousel:{navEnabledSmall:!0,theme:"modal-feature-detail",startIndex:parseInt(t.dataset.optionIndex,10)-1},modal:I({},N)};new _.s(i,n).open({callingContainer:t})}},{key:"filterOptionsByPackage",value:function(e){var t=this;return[].slice.call(this.modalOpenersElm).reduce((function(i,n){if(t.autoNumIncr=0,n.dataset.packageName!==e)return i;var a=I({},n.dataset);return a.disclaimers=JSON.parse(a.disclaimers),a.disclaimers.forEach((function(e){e.code="AUTONUM"===e.code?t.getAutoNum():e.code})),[].concat((0,m.Z)(i),[a])}),[])}},{key:"getAutoNum",value:function(){return this.autoNumIncr=this.autoNumIncr+1,this.autoNumIncr}}]),e}();function R(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?R(Object(i),!0).forEach((function(t){(0,P.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var F="model-page-features__options-list__cta",V={dataAnalyticContainer:"{'blade': 'model feature options modal'}"},W=window.mbNafta.ns("pageData","modelFeatures").features||[],x=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.viewCtas=[],this.modalOpeners=[],this.isAllFeaturesDrawerOpen=!1,this.autoNumIncr=0,this.openCloseDrawers=this.openCloseDrawers.bind(this),this.openDetailsModal=this.openDetailsModal.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.createToggleDrawers(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.viewCtas=this.element.querySelectorAll(".".concat(F)),this.modalOpeners=this.element.querySelectorAll("[".concat("modal-detail-opener","]"))}},{key:"attachEvents",value:function(){var e=this;[].slice.call(this.modalOpeners).forEach((function(t){t.addEventListener(r.FP.CLICK,e.openDetailsModal)})),[].slice.call(this.viewCtas).forEach((function(t){t.addEventListener(r.FP.CLICK,e.openCloseDrawers)}))}},{key:"parsePackageData",value:function(e){var t=""!==window.mbNafta.ns("pageData").jsonPackagesData?JSON.parse(window.mbNafta.ns("pageData").jsonPackagesData):"",i="";return""!==t&&t.forEach((function(t){t.packageGroup.options.forEach((function(t){t.packageOpts.forEach((function(n){n.option&&n.option.name===e&&(""!==i&&(i+=", "),i+=t.name)}))}))})),i}},{key:"openDetailsModal",value:function(e){var t=this,i=e.currentTarget,n=this.filterOptionsBasedOnDOM(e.currentTarget.dataset);n.forEach((function(e){e.packageAvailable=t.parsePackageData(e.title)}));var a=-1;[].slice.call(this.modalOpeners).some((function(e){return e.dataset.categoryName===i.dataset.categoryName&&(a+=1),e===i}));var r={carousel:{navEnabledSmall:!0,theme:"modal-feature-detail",startIndex:a},modal:Z({},V)};new _.s(n,r).open({callingContainer:i})}},{key:"openCloseDrawers",value:function(e){this.isAllFeaturesDrawerOpen=!this.isAllFeaturesDrawerOpen,s.Jw.dispatchEvent(s.Jw.createCustomEvent(r.fD.TOGGLE_DRAWER_TRIGGER,{detail:{classElement:F,element:e.currentTarget}}))}},{key:"createToggleDrawers",value:function(){[].slice.call(this.viewCtas).map((function(e){return new O.ToggleDrawer(e)}))}},{key:"filterOptionsBasedOnDOM",value:function(e){var t=this,i=e.categoryName;return[].slice.call(this.modalOpeners).reduce((function(e,n){if(n.dataset.categoryName!==i)return e;if(!t.isAllFeaturesDrawerOpen&&!n.parentElement.classList.contains("model-page-features__feature-card"))return e;var a=W.find((function(e){return e.category===i})).options.find((function(e){var t=e.optionDetail;return t&&t.multimediaAssets&&t.optionName===n.dataset.optionName}));return a?(t.autoNumIncr=0,[].concat((0,m.Z)(e),[t.mapDetailToModalDetail(a)])):e}),[])}},{key:"mapDetailToModalDetail",value:function(e){var t=this,i=(e.optionDetail.disclaimers||[]).map((function(e){return{desc:e.disclaimerText||"",code:("AUTONUM"===e.legend?t.getAutoNum():e.legend)||""}}));return e.optionDetail.customDisclaimer&&i.splice(0,0,{desc:e.optionDetail.customDisclaimer}),{standardText:e.standard?window.mbNafta.ns("pageData").localization.standard:window.mbNafta.ns("pageData").localization.optional,title:e.optionDetail.optionName,disclaimers:i,description:e.optionDetail.text,imageUrl:e.optionDetail.multimediaAssets[0].imgLarge,imageAlt:e.optionDetail.multimediaAssets[0].imgAltText}}},{key:"getAutoNum",value:function(){return this.autoNumIncr=this.autoNumIncr+1,this.autoNumIncr}}]),e}(),q=i(62279),H=i(22209);function U(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?U(Object(i),!0).forEach((function(t){(0,P.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Y="aria-controls",G={viewMore:"View More",viewLess:"View Less",featuresCount:"{0} of {1} features"},K=function(){function e(t,i){(0,n.Z)(this,e),this.element=t,this.config=i,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.simpleTabs=null,this.toggleDrawers=[],this.vehicleData=window.mbNafta.ns("pageData").vehicle,this.localization=B({},window.mbNafta.ns("pageData").localization.modelTrims,{},G),this.setBindings(),this.cacheDOM(),this.createTabs(),this.renderTabsFooter(),this.initToggleDrawers(),this.mediaServerApi=o.W.getInstance(),this.getVehicleImages(this.modelTrimVehicleImageElm)}},{key:"setBindings",value:function(){this.onDrawerToggle=this.onDrawerToggle.bind(this)}},{key:"cacheDOM",value:function(){this.simpleTabsElm=this.element.querySelector("[".concat("data-simple-tabs","]")),this.modelTrimVehicleImageElm=this.element.querySelector(".".concat("model-trim-package__vehicle-image")),this.modelTrimFeaturesElms=[].slice.call(this.element.querySelectorAll(".".concat("model-trim-package__features-standard",", .").concat("model-trim-package__features-optional")))}},{key:"createTabs",value:function(){var e=this,t={tabCurrent:"feature-tab__button--current",tabLatent:"feature-tab__button",showFirstTab:!0,useLocationHash:!1};this.simpleTabs=new q.x(this.simpleTabsElm,t),this.simpleTabs.tabCtasElms.forEach((function(t){t.addEventListener(r.FP.CLICK,e.onClickTab.bind(e,t))}))}},{key:"onClickTab",value:function(e){this.config.onClickTabCallback&&this.config.onClickTabCallback(e.getAttribute(Y))}},{key:"setTab",value:function(e,t){var i=e.slice(0,-1),n=this.element.querySelector("[".concat(Y,"='").concat(i).concat(t,"']"));this.simpleTabs.handleCtaClick({target:n,preventDefault:function(){}})}},{key:"renderTabsFooter",value:function(e){var t=this;this.modelTrimFeaturesElms.forEach((function(i){var n=i.querySelector(".".concat("model-trim-package__feature-list")),a=i.querySelector(".".concat("model-trim-package__feature-count"));a.innerHTML=(0,s.NR)(t.localization.featuresCount,[e?a.dataset.totalFeatures:n.children.length,a.dataset.totalFeatures])}))}},{key:"initToggleDrawers",value:function(){var e=this;this.modelTrimFeaturesElms.forEach((function(t){var i=t.querySelector(".".concat("model-trim-package__feature-cta")),n=t.querySelector(".".concat("model-trim-package__hidden-list"));if(i){var a=new O.ToggleDrawer(i,{onToggle:e.onDrawerToggle,toggleDrawer:n,closedText:e.localization.viewLess,openedText:e.localization.viewMore});e.toggleDrawers.push(a)}}))}},{key:"onDrawerToggle",value:function(e,t){this.setDrawer(t),this.config.onToggleDrawerCallback&&this.config.onToggleDrawerCallback(t);var i=this.element.offsetTop+this.simpleTabsElm.offsetTop-window.innerHeight/2;!t&&i<window.scrollY&&(0,s.X5)(i)}},{key:"setDrawer",value:function(e){this.toggleDrawers.forEach((function(t){t[e?"openDrawer":"closeDrawer"]()})),this.renderTabsFooter(e)}},{key:"getVehicleImages",value:function(e){var t=this;this.mediaServerApi.getBuildImage(B({},this.vehicleData,{modelLine:e.dataset.trimCode}),{view:o.W.VIEW_TYPES.EXTERIOR,pov:o.W.POV_TYPES.FRONT,presetCategory:o.W.PRESET_CATEGORIES.MODEL}).then((function(i){t.preloadImages(i.respObj,e)}))}},{key:"preloadImages",value:function(e,t){var i=new H.PictureLoader({media:{imgL:e.large.retina,imgS:e.small.retina,alt:""},className:"model-trim-package__vehicle-picture"});t.appendChild(i.render())}}]),e}(),z=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.trims=[],this.expandedDrawers=!1,this.currentTab=null,this.setBindings(),this.cacheDOM(),this.attachEvents(),this.createTrims()}},{key:"setBindings",value:function(){this.onBreakpointCross=this.onBreakpointCross.bind(this),this.handleTabSync=this.handleTabSync.bind(this),this.handleDrawerSync=this.handleDrawerSync.bind(this)}},{key:"cacheDOM",value:function(){this.modelTrimElms=[].slice.call(this.element.querySelectorAll(".".concat("model-trim-package")))}},{key:"attachEvents",value:function(){s.sp.addBreakpointListener(this.onBreakpointCross)}},{key:"detachEvents",value:function(){s.sp.removeBreakpointListener(this.onBreakpointCross)}},{key:"createTrims",value:function(){var e=this,t={onClickTabCallback:this.handleTabSync,onToggleDrawerCallback:this.handleDrawerSync};this.modelTrimElms.forEach((function(i){e.trims.push(new K(i,t))}))}},{key:"handleTabSync",value:function(e){this.currentTab=e,s.sp.gte(s.sp.SIZES.LARGE)&&this.trims.forEach((function(t,i){t.setTab(e,i)}))}},{key:"handleDrawerSync",value:function(e){this.expandedDrawers=e,s.sp.gte(s.sp.SIZES.LARGE)&&this.trims.forEach((function(t){t.setDrawer(e)}))}},{key:"onBreakpointCross",value:function(){this.handleDrawerSync(this.expandedDrawers),this.currentTab&&this.handleTabSync(this.currentTab)}}]),e}(),J=i(2473),X="data-form-config",Q="data-vehicle",$=window.mbNafta.pageData,ee=$.country,te=$.currency,ie=$.language,ne=$.vehicle,ae=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.setLinkFormData()}return(0,a.Z)(e,[{key:"setLinkFormData",value:function(){var e=this,t=this.element.querySelectorAll(".quick-links__item"),i={sourceType:J.wK.SOURCE_TYPE.MODEL};null==t||t.forEach((function(t){var n=t.getAttribute("href");(null==n?void 0:n.indexOf("/intercept/lead-form/"))>-1&&(t.getAttribute(X)||t.setAttribute(X,JSON.stringify(i)),!t.getAttribute(Q)&&ne&&t.setAttribute(Q,JSON.stringify(e.parseVehicle())))}))}},{key:"parseVehicle",value:function(){var e=ne.bodyStyle,t=ne.model,i=ne.msrp,n=ne.name,a=ne.year,r=s.uf.toCurrency(s.uf.toNumber(i),ee,ie,te);return{bodyStyle:e,class:ne.class,model:t,modelId:t,modelName:n,msrp:{priceCurrency:r},price:i,year:a,type:"NEW"}}}]),e}(),re=i(8453),se=i(98243),oe=i(71890),le={ModelHero:d,ModelSelector:E,ModelColorSelector:D,ModelCta:k,ModelSpecsList:A,ModelPackagesList:j,ModelFeatures:x,ModelTrimSet:z,ModelQuickLinks:ae,TabbedModule:re.Z,StickyNav:se.StickyNav,InventoryPreferences:oe.Z}},71890:function(e,t,i){i.d(t,{Z:function(){return E}});var n=i(4942),a=i(87757),r=i.n(a),s=i(15861),o=i(15671),l=i(43144),c=i(8357),h=i(52597),u=i(56571),d=i(19418),m=i(77498),f=i(78618),v=i(7081);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var b={CA:"ca",CPO:"CPO",COUNTRY:"country",DATA_MODULE_TYPE:"data-module-type",DATA_REGISTRATION:"data-registration",DATA_SECONDARY_MODULE_TYPE:"data-secondary-module-type",DEALER_ID:"dealer_id",FALSE:"false",HYBRID_MODULE_TYPE:"cta_pref_1",INVENTORY:"inventory",NBA:"INVENTORY",OFFERS:"offers"},E=function(){function e(t){var i=this;(0,o.Z)(this,e),this.element=t,this.inventoryPreferenceApi=null,this.module=null,this.offerData=null,this.modifiers={},this.saveRecentlyViewedVehicleToUserProfile(),this.baseModuleType=this.filterModuleType(this.element.getAttribute(b.DATA_MODULE_TYPE)),this.isRegistration=JSON.parse(this.element.getAttribute(b.DATA_REGISTRATION))||!1,this.baseModuleType?this.isRegistration?(0,m.m7)().then((function(e){i.recentlyViewedVehicle=(0,m.p9)(b[i.baseModuleType.toUpperCase()],e),i.cacheDOM(),i.init()})).catch((function(e){console.log("Error retrieving the recently viewed vehicle: ".concat(e)),i.cacheDOM(),i.init()})):(this.cacheDOM(),this.init()):console.warn("No Preferences Module set")}var t;return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.experienceMount=document.querySelector(".".concat("inventory-experience-mount"))}},{key:"saveRecentlyViewedVehicleToUserProfile",value:function(){var e,t=(0,m.Xs)(),i=null===(e=(new h.$S).getProfile())||void 0===e?void 0:e.loggedState;null!=t&&t.recentlyViewed&&i&&f.Z.dispatch((0,v.hb)(t))}},{key:"init",value:(t=(0,s.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z;case 3:this.inventoryPreferenceApi=e.sent,this.modifiers=this.inventoryPreferenceApi.getModifiers(),this.experienceMount&&this.moveModuletoUpperContainer(),this.createThreeUpModule(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("No preferences loaded:",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return t.apply(this,arguments)})},{key:"setVehicleData",value:function(){var e,t,i=window.mbNafta.ns("pageData","vehicle"),n=(i.models||[]).filter((function(e){return e.model.isAMG===i.isAMG}));if(i.options||!n.length)return i;var a=i.classId,r=i.bodystyleId,s=n[0],o=s.paintGroup,l=void 0===o?[]:o,c=s.model,h=c.year,u=c.code,d=c.msrp,m=c.name,f=c.vehicleBodystyle,v=c.vehicleClass;return g({},i,{class:v?v.code:a,bodyStyle:f?f.code:r,year:h,model:u,msrp:d,name:m,meta:{altTag:"".concat(m," Exterior Image")},models:n,options:{exterior:{PAINT:[{id:(null===(e=l[0])||void 0===e||null===(t=e.options[0])||void 0===t?void 0:t.id)||""}]}}})}},{key:"filterModuleType",value:function(e){return"none"!==e&&e}},{key:"getModelsList",value:function(){for(var e=(0,m.Qf)(),t=[],i=1;i<4;i+=1){var n="model_pref_".concat(i),a=this.inventoryPreferenceApi.getOfferData(n),r=Boolean("string"==typeof a&&a.length);r&&t.push(a),!r&&e[n]&&t.push(e[n])}return t}},{key:"createThreeUpModule",value:function(){var e=window.mbNafta.ns("pageData",b.COUNTRY),t=this.inventoryPreferenceApi.getOfferData(b.HYBRID_MODULE_TYPE)||"";e===b.CA&&t===b.OFFERS&&(t=b.INVENTORY);var i=this.filterModuleType(this.element.getAttribute(b.DATA_SECONDARY_MODULE_TYPE)),n={element:this.element,moduleConfig:{baseModuleType:this.baseModuleType,hybridModuleType:t,location:this.inventoryPreferenceApi.getDealer(),modelLists:this.getModelsList().filter((function(e){return e})),registration:this.isRegistration,secondaryModuleType:i,recentlyViewedVehicle:this.recentlyViewedVehicle},onDestroyCallback:c.ZT,personalizationConfig:g({country:e,modifiers:this.modifiers},window.mbNafta.ns("applicationProperties","inventoryConfig"),{},window.mbNafta.ns("applicationProperties")),vehicleData:this.setVehicleData()};this.module=new d.Z(n)}},{key:"moveModuletoUpperContainer",value:function(){this.element=this.experienceMount.appendChild(this.element)}}]),e}()},83189:function(e,t,i){i.d(t,{A:function(){return f}});var n=i(4942),a=i(15671),r=i(43144),s=i(48218),o=i(8357);function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var c="multi-slide-nav--active",h="data-multi-slide-carousel-nav-right",u="px",d={activeSmall:!0,activeLarge:!1,activeXLarge:!1,transitionSpeed:1},m=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),this.element=t,this.config=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},d,{},i),this.navControls={},this.navOffset=0,this.navOffsetCount=0,this.navOffsetCountSingle=0,this.navWidth=0,this.navItemWidth=0,this.navParentWidth=0,this.carouselIsActive=!0,this.currentScreenState=o.sp.getState(),this.init()}return(0,r.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.setDefaults(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.carouselElm=this.element.querySelector("[".concat("data-multi-slide-carousel","]")),this.itemsListElm=this.element.querySelector("[".concat("data-multi-slide-carousel-items-list","]")),this.navControls.leftArrowElm=this.element.querySelector("[".concat("data-multi-slide-carousel-nav-left","]")),this.navControls.rightArrowElm=this.element.querySelector("[".concat(h,"]"))}},{key:"setDefaults",value:function(){this.navItemWidth=this.itemsListElm.firstElementChild.offsetWidth,this.navWidth=this.navItemWidth*this.itemsListElm.childElementCount,this.navParentWidth=this.itemsListElm.parentElement.offsetWidth,this.itemsListElm.style.width="".concat(this.navWidth).concat(u),this.itemsListElm.style.left="0".concat(u),this.config.activeSmall&&this.carouselElm.classList.add("multi-slide-small--active"),this.config.activeLarge&&this.carouselElm.classList.add("multi-slide-large--active"),this.config.activeXLarge&&this.carouselElm.classList.add("multi-slide-xlarge--active"),this.carouselIsActive=this.itemsListElm.offsetWidth>this.carouselElm.offsetWidth,this.carouselIsActive?(this.navControls.rightArrowElm.classList.add(c),this.navControls.leftArrowElm.classList.remove(c),this.navOffset=0,this.navOffsetCount=0,this.navOffsetCountSingle=0):(this.navControls.rightArrowElm.classList.remove(c),this.navControls.leftArrowElm.classList.remove(c))}},{key:"attachEvents",value:function(){var e=this;this.navControls.rightArrowElm.addEventListener(s.FP.CLICK,(function(t){e.arrowClickListener(t)})),this.navControls.leftArrowElm.addEventListener(s.FP.CLICK,(function(t){e.arrowClickListener(t)})),[].slice.call(this.itemsListElm.childNodes).forEach((function(t){t.addEventListener(s.FP.TOUCHSTART,(0,o.Ds)(e.touchListenerStart.bind(e),10)),t.addEventListener(s.FP.TOUCHMOVE,(0,o.Ds)(e.touchListenerMove.bind(e),20))})),[].slice.call(this.itemsListElm.children).forEach((function(t,i){t.addEventListener(s.FP.CLICK,(function(){return e.itemClickListener(t,i)}))})),o.sp.addResizeListener((function(t){e.screenResizeListener(t)}))}},{key:"itemClickListener",value:function(e){if(this.carouselIsActive){var t=parseInt(this.itemsListElm.style.left,10),i=e.offsetLeft+this.navItemWidth+t,n=this.navParentWidth-this.navControls.rightArrowElm.offsetWidth,a=-t-this.navControls.leftArrowElm.offsetWidth,r=-t+this.navControls.leftArrowElm.offsetWidth;e.offsetLeft===-t||e.offsetLeft>a&&e.offsetLeft<r?this.showItem(!1,!0):i>n&&this.showItem(!0,!0)}}},{key:"arrowClickListener",value:function(e){if(this.carouselIsActive){var t=e.currentTarget.hasAttribute(h);this.showItem(t)}}},{key:"screenResizeListener",value:function(e){this.currentScreenState.viewport.w!==e.viewport.w&&this.setDefaults(),this.currentScreenState=e}},{key:"paginateLooping",value:function(e){var t=this;if(this.carouselIsActive){var i=Math.floor(this.navParentWidth/this.navItemWidth),n=e?"li:nth-child(-n+".concat(i):"li:nth-last-child(-n+".concat(i);[].slice.call(this.itemsListElm.querySelectorAll(n)).forEach((function(i){return o.jG[e?"append":"prepend"](i,t.itemsListElm)}))}}},{key:"showItem",value:function(e,t){var i=t?1:Math.floor(this.navParentWidth/this.navItemWidth),n=this.navOffset,a=parseInt(this.itemsListElm.style.left,10);t?(this.navOffsetCountSingle=e?-i:i,this.navOffset=this.navItemWidth*Math.abs(this.navOffsetCountSingle)):(this.navOffsetCount+=e?-i:i,this.navOffsetCountSingle=this.navOffsetCount,this.navOffset=this.navItemWidth*Math.abs(this.navOffsetCount),-a<this.navParentWidth&&!e&&(this.navOffset=0)),!e&&t?this.navOffset=n-this.navItemWidth:e&&t&&(this.navOffset=n+this.navItemWidth);var r=this.navWidth-this.navOffset<this.navParentWidth;this.navOffset=r?this.navWidth-this.navParentWidth:this.navOffset,this.navControls.leftArrowElm.classList[this.navOffset<=0?"remove":"add"](c),this.navControls.rightArrowElm.classList[r?"remove":"add"](c);var s=0;this.navOffset>n?s=(this.navOffset-n)*this.config.transitionSpeed:this.navOffset<n&&(s=(n-this.navOffset)*this.config.transitionSpeed),this.itemsListElm.style.transitionDuration="".concat(s).concat("ms"),this.itemsListElm.style.left="-".concat(this.navOffset).concat(u),0===this.navOffset&&(this.navOffsetCount=0)}},{key:"touchListenerStart",value:function(e){this.xCoordinate=e.touches[0].pageX}},{key:"touchListenerMove",value:function(e){if(this.carouselIsActive&&this.xCoordinate){var t=this.xCoordinate-e.touches[0].pageX;t>0&&this.navControls.rightArrowElm.classList.contains(c)?this.navControls.rightArrowElm.click():t<0&&this.navControls.leftArrowElm.classList.contains(c)&&this.navControls.leftArrowElm.click()}}}]),e}(),f=m},62279:function(e,t,i){i.d(t,{Z:function(){return d},x:function(){return b}});var n=i(15671),a=i(43144),r=i(4942),s=i(48218),o=i(8357);function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var c={updateHash:!1,onTabActivate:o.ZT},h={37:-1,38:-1,39:1,40:1},u=function(){function e(t,i){var a=this;(0,n.Z)(this,e),(0,r.Z)(this,"onTabClick",(function(e){var t=e.currentTarget;a.activateTab(t,!1)})),(0,r.Z)(this,"onTabFocus",(function(){a.tabElms.forEach((function(e){return e.setAttribute("tabindex","0")}))})),(0,r.Z)(this,"onTabBlur",(function(e){var t=e.currentTarget;a.tabElms.forEach((function(e){return e.setAttribute("tabindex","-1")})),t.setAttribute("tabindex","0")})),(0,r.Z)(this,"onKeyDown",(function(e){switch(e.keyCode){case s.sd.END:e.preventDefault(),a.focusLastTab();break;case s.sd.HOME:e.preventDefault(),a.focusFirstTab()}})),(0,r.Z)(this,"onKeyUp",(function(e){switch(e.keyCode){case s.sd.LEFT:case s.sd.RIGHT:a.switchTabOnArrowPress(e);break;case s.sd.ENTER:case s.sd.SPACE:a.activateTab(e.currentTarget)}})),(0,r.Z)(this,"switchTabOnArrowPress",(function(e){var t=e.keyCode;if(h[t]){var i=e.currentTarget;if(void 0!==i.index){var n=a.tabElms[i.index+h[t]];n?n.focus():t===s.sd.LEFT?a.focusLastTab():t===s.sd.RIGHT&&a.focusFirstTab()}}})),(0,r.Z)(this,"activateTab",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.deactivateTabs(),e.setAttribute("aria-selected","true");var i=e.getAttribute("aria-controls"),n=document.getElementById(i);n.removeAttribute("hidden"),a.config.onTabActivate&&a.config.onTabActivate(n,t)})),(0,r.Z)(this,"deactivateTabs",(function(){for(var e=0;e<a.tabElms.length;e+=1)a.tabElms[e].setAttribute("aria-selected","false");for(var t=0;t<a.panelElms.length;t+=1)a.panelElms[t].setAttribute("hidden","true")})),(0,r.Z)(this,"focusFirstTab",(function(){a.tabElms[0].focus()})),(0,r.Z)(this,"focusLastTab",(function(){a.tabElms[a.tabElms.length-1].focus()})),t&&t instanceof Element?(this.element=t,this.config=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},c,{},i),this.tabListElm=null,this.tabElms=null,this.panelElms=null,this.cacheDOM(),this.attachEvents()):console.warn("element should be an instance of Element")}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.tabListElm=this.element.querySelector("[role=tablist]"),this.tabElms=this.element.querySelectorAll("[role=tab]"),this.panelElms=this.element.querySelectorAll("[role=tabpanel]")}},{key:"attachEvents",value:function(){var e=this;this.tabElms.forEach((function(t,i){t.index=i,t.addEventListener(s.FP.BLUR,e.onTabBlur),t.addEventListener(s.FP.CLICK,e.onTabClick),t.addEventListener(s.FP.FOCUS,e.onTabFocus),t.addEventListener(s.FP.KEYDOWN,e.onKeyDown),t.addEventListener(s.FP.KEYUP,e.onKeyUp)}))}}]),e}(),d=u;function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var f="simple-tabs__content--pre-init",v="aria-controls",p="aria-hidden",g={linksContainer:"data-simple-tabs-links",tabsContainer:"simple-tabs",tabClass:"simple-tabs__link",contentClass:"simple-tabs__content",tabCurrent:"simple-tabs__current-item",tabLatent:"simple-tabs__link-latent",callback:o.ZT,useLocationHash:!0},b=function(){function e(t,i){(0,n.Z)(this,e),t?(this.element=t,this.config=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},g,{},i),this.cacheDOM(),this.init()):console.warn("No simple tabs element found")}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.linksContainerElm=this.element.querySelector("[".concat(this.config.linksContainer,"]")),this.tabCtasElms=this.linksContainerElm.querySelectorAll("[".concat(v,"]"))}},{key:"init",value:function(){var e=this;this.tabContentsElms=[],this.element.classList.add(this.config.tabsContainer),this.handleCtaClick=this.handleCtaClick.bind(this);var t=window.location.hash.substr(1),i=!1;this.tabCtasElms.forEach((function(t){t.classList.add(e.config.tabClass);var i=t.getAttribute(v),n=e.element.querySelector("#".concat(i));e.tabContentsElms.push(n)})),this.tabContentsElms.forEach((function(n){n.classList.add(e.config.contentClass),n.classList.remove(f);var a=n.getAttribute("id");t===a&&(e.setCurrentTab(a),i=!0)})),(!t||!i&&this.config.showFirstTab)&&this.tabContentsElms[0].setAttribute(p,!1),this.attachEvents()}},{key:"destroy",value:function(){this.detachEvents()}},{key:"attachEvents",value:function(){var e=this;this.tabCtasElms.forEach((function(t){t.addEventListener(s.FP.CLICK,e.handleCtaClick)}))}},{key:"detachEvents",value:function(){var e=this;this.tabCtasElms.forEach((function(t){t.removeEventListener(s.FP.CLICK,e.handleCtaClick)}))}},{key:"handleCtaClick",value:function(e){e.preventDefault();var t=e.target.getAttribute(v),i=this.element.querySelector("#".concat(t)),n=i.getAttribute("id");i.setAttribute(p,!1),this.setCurrentTab(n)}},{key:"setCurrentTab",value:function(e){var t=this;this.tabContentsElms.forEach((function(t){t.id===e?t.setAttribute(p,!1):t.setAttribute(p,!0)})),this.tabCtasElms.forEach((function(i){i.getAttribute(v)!==e?(i.classList.remove(t.config.tabCurrent),i.classList.add(t.config.tabLatent)):(i.classList.remove(t.config.tabLatent),i.classList.add(t.config.tabCurrent))})),this.config.useLocationHash&&(history.replaceState?history.replaceState(null,null,"#".concat(e)):location.hash="#".concat(e)),this.config.callback(e)}}]),e}();(0,r.Z)(b,"PRE_INIT_CLASS",f)}}]);
//# sourceMappingURL=1694f8af775aa81f465c.bundle.js.map