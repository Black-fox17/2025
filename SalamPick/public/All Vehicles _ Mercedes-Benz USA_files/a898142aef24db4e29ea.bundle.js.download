"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[8421],{13629:function(e,t,i){i.d(t,{bj:function(){return r.Z},e5:function(){return v.Z},N6:function(){return p}});var n,r=i(76838),a=i(4942);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,a.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=window.mbNafta||{},l=c.applicationProperties,u=(l=void 0===l?{}:l).recaptchaV3,d=(u=void 0===u?{}:u).siteKey,h=void 0===d?"":d,g=c.pageData.language,m={siteKey:h};function f(){var e=s({},m,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return n||(n=new Promise((function(t,i){var n="".concat(window.mbNafta.pageData.recaptchaApiUrl,"?render=").concat(e.siteKey,"&onload=mbNaftaReCAPTCHAv3Callback&render=explicit&hl=").concat(g),r=document.querySelector("head"),a=document.createElement("script");a.src=n,a.async=!0,a.defer=!0,a.onerror=function(){return i()},window.mbNaftaReCAPTCHAv3Callback=function(){window.grecaptcha.ready((function(){t()})),delete window.mbNaftaReCAPTCHAv3Callback},r.appendChild(a)}))),n}var p={loadRecaptchaV3:f,getToken:function(){var e=s({},m,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return new Promise((function(t,i){f().then((function(){grecaptcha.execute("".concat(e.siteKey),{action:"submit"}).then((function(e){t(e)}))})).catch(i)}))}},v=i(76729);r.Z},76838:function(e,t,i){i.d(t,{Z:function(){return f}});var n,r=i(4942),a=i(15671),o=i(43144),s=i(85879),c=i(8357),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return n||(n=new Promise((function(t,i){var n=window.mbNafta.ns("pageData").language||e,r="".concat(window.mbNafta.pageData.recaptchaApiUrl,"?onload=mbNaftaReCAPTCHACallback&render=explicit&hl=").concat(n),a=document.querySelector("head"),o=document.createElement("script");o.src=r,o.async=!0,o.defer=!0,o.onerror=function(){return i()},window.mbNaftaReCAPTCHACallback=function(){t(),delete window.mbNaftaReCAPTCHACallback},a.appendChild(o)}))),n},u=i(30168);function d(){var e=(0,u.Z)(['\n    <div class="recaptcha">\n        <div data-recaptcha-container class="recaptcha__container"></div>\n        <p data-error-message class="recaptcha__error">',"</p>\n    </div>\n"]);return d=function(){return e},e}function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var g="error",m={id:"recaptcha",isDisabled:window.mbNafta.ns("applicationProperties").isRecaptchaDisabled,errorMessage:"Please confirm you are not a robot.",language:window.mbNafta.ns("pageData").language,onLoad:c.ZT,onSuccess:c.ZT,sitekey:window.mbNafta.ns("applicationProperties").recaptchaSiteKey,size:"",theme:""},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.Z)(this,e),this.element=null,this.config=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},m,{},t,{callback:this.onSuccess.bind(this)}),this.id=this.config.id,this.name=this.config.name,this.recaptchaContainer=null,this.errorMessage=null,this.widgetId=null,this.init()}return(0,o.Z)(e,[{key:"init",value:function(){this.createView(),this.cacheDOM(),this.config.sitekey?l(this.config.language).then(this.createRecaptcha.bind(this)).then(this.config.onLoad):console.error("ReCAPTCHA Error: sitekey value is missing from configuration."),this.config.isDisabled&&window.setTimeout(this.config.onSuccess.bind(this))}},{key:"createView",value:function(){var e,t;this.element=(t=void 0===(e={errorMessage:this.config.errorMessage}.errorMessage)?"":e,(0,c.e2)(d(),t))({getNode:!0})}},{key:"cacheDOM",value:function(){this.recaptchaContainer=this.element.querySelector("[".concat("data-recaptcha-container","]")),this.errorMessage=this.element.querySelector("[".concat("data-error-message","]"))}},{key:"createRecaptcha",value:function(){this.widgetId=window.grecaptcha.render(this.recaptchaContainer,this.config)}},{key:"register",value:function(){this.config.formId&&c.Jw.dispatchEvent(c.Jw.createCustomEvent(s.xs.REGISTER,{detail:{formId:this.config.formId,input:this}}))}},{key:"unregister",value:function(){this.config.formId&&c.Jw.dispatchEvent(c.Jw.createCustomEvent(s.xs.UNREGISTER,{detail:{formId:this.config.formId,input:this}}))}},{key:"dispatchChange",value:function(){this.config.formId&&c.Jw.dispatchEvent(c.Jw.createCustomEvent(s.xs.INPUT_CHANGE,{detail:{formId:this.config.formId,input:this}}))}},{key:"getName",value:function(){return this.name}},{key:"getValue",value:function(){return!!window.grecaptcha&&null!==this.widgetId&&window.grecaptcha.getResponse(this.widgetId)}},{key:"isValid",value:function(){return!!this.config.isDisabled||!!this.getValue()}},{key:"validate",value:function(e){return(e||!e&&this.isValid())&&this.setErrorStatus(!this.isValid()),this.isValid()}},{key:"setErrorStatus",value:function(e){e?this.element.classList.add(g):this.element.classList.remove(g)}},{key:"reset",value:function(){window.grecaptcha.reset(this.widgetId)}},{key:"onSuccess",value:function(){/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&(0,c.X5)(this.recaptchaContainer.offsetTop),this.config.onSuccess(this.getValue()),this.dispatchChange()}},{key:"destroy",value:function(){var e=this.widgetId?this.widgetId:void 0;this.unregister(),window.grecaptcha.reset(e),this.element.remove()}},{key:"render",value:function(){return this.element}}]),e}()},76729:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(4942),r=i(15671),a=i(43144),o=i(30168),s=i(8357);function c(){var e=(0,o.Z)(['\n    <div class="recaptcha-v3-branding"\n         data-qa-id="recaptcha-v3-branding">\n        <p class="recaptcha-v3-branding__copy">\n            ',"\n        </p>\n    </div>\n"]);return c=function(){return e},e}var l=function(e,t){return"<a class='link link_plain-link'\n     href='".concat(t,"' \n     target='_blank' \n     data-analytics-trigger='cta' \n     aria-label='").concat(e,"'>").concat(e,"</a>")};function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var d=(window.mbNafta||{}).applicationProperties,h=(d=void 0===d?{}:d).recaptchaV3,g=(h=void 0===h?{}:h).branding,m=void 0===g?{}:g,f={note:m.note||"This site is protected by reCAPTCHA and the Google {privacyPolicy} and {termsOfUse} apply.",privacyPolicy:m.privacyPolicy||"Privacy Policy",privacyPolicyUrl:m.privacyPolicyUrl||"https://policies.google.com/privacy",termsOfService:m.termsOfService||"Terms of Service",termsOfServiceUrl:m.termsOfServiceUrl||"https://policies.google.com/terms"},p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.element=null,this.content=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},f,{},t),this.createView()}return(0,a.Z)(e,[{key:"createView",value:function(){var e,t,i,n,r,a;this.element=(e=this.content,t=e.note,i=e.privacyPolicy,n=e.privacyPolicyUrl,r=e.termsOfService,a=e.termsOfServiceUrl,(0,s.e2)(c(),(0,s.NR)(t,{privacyPolicy:l(i,n),termsOfUse:l(r,a)})))({getNode:!0})}},{key:"render",value:function(){return this.element}}]),e}()},29554:function(e,t,i){i.d(t,{qw:function(){return n.Z},Go:function(){return k},mR:function(){return p}});var n=i(72557),r=(i(47026),i(67384),i(4942)),a=i(15671),o=i(43144),s=i(14569),c=i(48218),l=i(52597),u=i(30168),d=i(8357);function h(){var e=(0,u.Z)(['\n    <div class="mbs-quick-registration">\n        <div class="mbs-quick-registration__content">\n            <div class="mbs-quick-registration__reminder" data-qa-id="mbs-quick-registration__reminder">\n                <div\n                    class="mbs-quick-registration__header mbs-quick-registration__header--bottom-border"\n                    data-qa-id="mbs-quick-registration__header"\n                >\n                    ','\n                </div>\n                <div class="mbs-quick-registration__reminder-container">\n                    <div\n                        class="mbs-quick-registration__reminder-description"\n                        data-qa-id="mbs-quick-registration__reminder-description"\n                    >\n                        ','\n                    </div>\n                </div>\n                <div class="mbs-quick-registration__benefits">\n                    <div\n                        class="mbs-quick-registration__benefits-heading"\n                        data-qa-id="mbs-quick-registration__benefits-heading"\n                    >\n                        ','\n                    </div>\n                    <div class="mbs-quick-registration__benefits-icons">\n                        <div\n                            class="mbs-quick-registration__icon mbs-quick-registration__builds-icon"\n                            data-qa-id="mbs-quick-registration__builds-icon"\n                        >\n                            ','\n                        </div>\n                        <div\n                            class="mbs-quick-registration__icon mbs-quick-registration__inventory-icon"\n                            data-qa-id="mbs-quick-registration__inventory-icon"\n                        >\n                            ','\n                        </div>\n                        <div\n                            class="mbs-quick-registration__icon mbs-quick-registration__recommendations-icon"\n                            data-qa-id="mbs-quick-registration__recommendations-icon"\n                        >\n                            ','\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <button\n                class="mbs-quick-registration__reminder-cta button button_primary button--full-width"\n                data-analytics-trigger="cta-continue"\n                data-qa-id="mbs-quick-registration__reminder-cta"\n            >\n                ',"\n            </button>\n        </div>\n    </div>"]);return h=function(){return e},e}function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var m=window.mbNafta.ns("pageData").registration,f={benefits:"Benefits include",continue:"Continue",loginHereLC:"log in here",recommendations:"Recommendations",reminderDescription:"Use the link in your confirmation email, sent to {0}. If you can't find it, {1} and a new email will be sent with a secure verification code.",reminderHeader:"Finish setting up your Mercedes me ID.",savedBuilds:"Saved Builds",savedInventory:"Saved Inventory"},p=function(){function e(){(0,a.Z)(this,e),this.content=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},f,{},m),this.authAPI=new l.$S,this.cookieInfo=this.authAPI.parseQuickRegisterCookies(),this.element=null,this.loginLinkClickHandler=this.loginLinkClickHandler.bind(this),this.init()}return(0,o.Z)(e,[{key:"init",value:function(){var e,t;this.element=(e=this.content,t=this.cookieInfo,(0,d.e2)(h(),e.reminderHeader,function(e,t){var i=e.reminderDescription,n="<span class='mbs-quick-registration__email' data-qa-id='mbs-quick-registration__email'>".concat(t.email,"</span>"),r="<button class='link link_plain-link mbs-quick-registration__login-link' data-qa-id='mbs-quick-registration__login-link' data-analytics-trigger='cta-login'>".concat(e.loginHereLC,"</button>");return(0,d.NR)(i,[n,r])}(e,t),e.benefits,e.savedBuilds,e.savedInventory,e.recommendations,e.continue))({getNode:!0}),this.cacheDOM(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.continueCta=this.element.querySelector(".".concat("mbs-quick-registration__reminder-cta")),this.loginLinkElm=this.element.querySelector(".".concat("mbs-quick-registration__login-link"))}},{key:"attachEvents",value:function(){this.continueCta.addEventListener(c.FP.CLICK,this.loginLinkClickHandler),this.loginLinkElm.addEventListener(c.FP.CLICK,this.loginLinkClickHandler)}},{key:"detachEvents",value:function(){this.continueCta.removeEventListener(c.FP.CLICK,this.loginLinkClickHandler),this.loginLinkElm.removeEventListener(c.FP.CLICK,this.loginLinkClickHandler)}},{key:"loginLinkClickHandler",value:function(e){e.preventDefault(),this.authAPI.authRedirect(l.$S.AUTH_PAGES.LOGIN)}},{key:"destroy",value:function(){this.detachEvents(),this.element.remove(),this.element=null}},{key:"getTitle",value:function(){return this.content.reminderHeader}},{key:"render",value:function(){return this.element}}]),e}();function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var y={callingContainer:null,callingContainerId:null,dataAnalyticContainer:"{'blade': 'quick registration modal'}",dataAnalyticTriggerClose:"cta-close",sizeSmall:s.Modal.SIZES.FULLSCREEN,sizeLarge:s.Modal.SIZES.INSET,theme:s.Modal.THEMES.SIDE_PANEL},k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,a.Z)(this,e),this.modalConfig=b({},y,{},t),this.modal=null,this.onComplete=this.onComplete.bind(this),this.quickReg=o?new p:new n.Z(b({onCompleteCallback:this.onComplete,onRegistrationCallback:this.modalConfig.onRegistrationCallback},i),r),this.modalContent=null,this.afterOpen=this.afterOpen.bind(this),this.beforeClose=this.beforeClose.bind(this),this.init()}return(0,o.Z)(e,[{key:"init",value:function(){this.createModal()}},{key:"createModal",value:function(){this.modal=new s.Modal(void 0,{callbacks:{afterOpen:this.afterOpen,beforeClose:this.beforeClose},dataAnalyticContainer:this.modalConfig.dataAnalyticContainer,dataAnalyticTriggerClose:this.modalConfig.dataAnalyticTriggerClose,modalContent:void 0,sizeLarge:this.modalConfig.sizeLarge,sizeSmall:this.modalConfig.sizeSmall,theme:this.modalConfig.theme})}},{key:"afterOpen",value:function(){this.getModalContainer()&&(this.modalContent=document.createElement("div"),this.modalContent.classList.add("mbs-quick-registration__modal"),this.modalContent.appendChild(this.quickReg.render()),this.getModalContainer().appendChild(this.modalContent))}},{key:"beforeClose",value:function(){this.getModalContainer()&&this.getModalContainer().removeChild(this.modalContent)}},{key:"getModalContainer",value:function(){return document.querySelector("[".concat("data-modal-content","]"))}},{key:"open",value:function(){var e=this.modalConfig,t=e.callingContainer,i=e.callingContainerId;t?this.modal.open({callingContainer:t}):i?this.modal.open({callingContainerId:i}):this.modal.open()}},{key:"close",value:function(){this.modal.close()}},{key:"onComplete",value:function(){this.modalConfig.onCompleteCallback&&this.modalConfig.onCompleteCallback(),this.close()}},{key:"getActiveState",value:function(){return this.modal.getActiveState()}},{key:"destroy",value:function(){this.modal.destroy()}}]),e}()},72557:function(e,t,i){i.d(t,{Z:function(){return y}});var n=i(4942),r=i(15671),a=i(43144),o=i(8357),s=i(47026),c=i(52597),l=i(30168);function u(){var e=(0,l.Z)(['\n    <div class="mbs-quick-registration">\n        <div class="mbs-quick-registration__content">\n            <div class="mbs-quick-registration__reminder">\n                <div class="mbs-quick-registration__header mbs-quick-registration__header--bottom-border">\n                    ','\n                </div>\n                <div class="mbs-quick-registration__reminder-container">\n                    <div class="mbs-quick-registration__reminder-description">','</div>\n                </div>\n                <div class="mbs-quick-registration__benefits">\n                    <div class="mbs-quick-registration__benefits-heading">','</div>\n                    <div class="mbs-quick-registration__benefits-icons">\n                        <div class="mbs-quick-registration__confirmation-icon mbs-quick-registration__builds-icon">','</div>\n                        <div class="mbs-quick-registration__confirmation-icon mbs-quick-registration__inventory-icon">','</div>\n                        <div class="mbs-quick-registration__confirmation-icon mbs-quick-registration__recommendations-icon">',"</div>\n                    </div>\n                </div>\n            </div>\n            ","\n        </div>\n    </div>\n"]);return u=function(){return e},e}var d={CONTINUE:"mbs-quick-registration__continue"},h=function(){function e(t){(0,r.Z)(this,e),this.config=t,this.onCompleteCallback=this.config.onCompleteCallback,this.authAPI=new c.$S,this.cookieInfo=this.authAPI.parseQuickRegisterCookies(),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){var e,t;this.element=(e=this.config,t=this.cookieInfo,(0,o.e2)(u(),e.confirmationHeader,function(e,t){var i=e.confirmationDescription,n="<span class='mbs-quick-registration__email' data-analytics-trigger='cta-login'>".concat(t.email,"</span>");return(0,o.NR)(i,[n])}(e,t),e.benefits,e.savedBuilds,e.savedInventory,e.recommendations,e.continueText?'<button class="mbs-quick-registration__continue button button_primary button--full-width" data-analytics-trigger="cta-continue">'.concat(e.continueText,"</button>"):""))({getNode:!0}),this.cacheDOM(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.continueButton=this.element.querySelector(".".concat(d.CONTINUE)),this.loginButton=this.element.querySelector(".".concat(d.LOGIN_BUTTON))}},{key:"attachEvents",value:function(){var e;null===(e=this.continueButton)||void 0===e||e.addEventListener("click",this.onCompleteCallback)}},{key:"render",value:function(){return this.element}}]),e}();function g(){var e=(0,l.Z)(['\n    <div class="mbs-quick-registration" data-qa-id="mbs-quick-registration">\n        <div class="mbs-quick-registration__content">\n        </div>\n    </div>']);return g=function(){return e},e}function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p={analyticsTrigger:"account-register-quick",analyticsTriggerLogin:"account-login",continueText:null,disableLogin:!1,disableLoginSuccessView:!1,disableRegistrationSuccessView:!1,onCompleteCallback:o.ZT,onLoginCallback:o.ZT,onRegistrationCallback:o.ZT,redirectURL:null,userInfo:null},v={accountCreated:"Your Mercedes-Benz account has been created.",emailSent:"We've sent an email to {0}. Follow the instructions to set your password and {1}.",logIn:"log in",continue:"Continue",logInURI:"#"},b=window.mbNafta.ns("pageData").registration,y=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.content=f({},v,{},b,{},i),this.config=f({},p,{},t),this.element=(0,o.e2)(g())({getNode:!0}),this.onLoginCallback=this.config.onLoginCallback,this.onCompleteCallback=this.config.onCompleteCallback,this.onRegistrationCallback=this.config.onRegistrationCallback,this.onSuccess=this.onSuccess.bind(this),this.cacheDOM(),this.addForm()}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.formContainer=this.element.querySelector(".mbs-quick-registration__content")}},{key:"addForm",value:function(){var e={analyticsTrigger:this.config.analyticsTrigger,analyticsTriggerLogin:this.config.analyticsTriggerLogin,disableLogin:this.config.disableLogin,onDrawerToggle:this.config.onDrawerToggle,onLoginCallback:this.onLoginCallback,onSubmitCallback:this.onSuccess,redirectURL:this.config.redirectURL,userInfo:this.config.userInfo};this.form=new s.Z(e,this.content),this.formContainer.appendChild(this.form.render())}},{key:"onSuccess",value:function(e){if(this.form.destroy(),this.formContainer.remove(),this.onRegistrationCallback(e),!this.config.disableRegistrationSuccessView){var t={benefits:this.content.benefits,confirmationDescription:this.content.confirmationDescription,continueText:this.config.continueText?this.config.continueText:this.content.continue,disableLogin:this.config.disableLogin,disableLoginSuccessView:this.config.disableLoginSuccessView,email:e.email,firstName:e.firstName,confirmationHeader:this.content.confirmationHeader,loginText:this.content.confirmationLogIn,loginURL:this.content.logInURI,onCompleteCallback:this.onCompleteCallback,savedBuilds:this.content.savedBuilds,savedInventory:this.content.savedInventory,recommendations:this.content.recommendations};this.success=new h(t),this.element.appendChild(this.success.render())}}},{key:"destroy",value:function(){this.form&&this.form.destroy(),this.element.remove()}},{key:"getTitle",value:function(){return this.content.heading}},{key:"render",value:function(){return this.element}}]),e}()},47026:function(e,t,i){i.d(t,{Z:function(){return S}});var n=i(4942),r=i(15671),a=i(43144),o=i(14569),s=i(47755),c=i(13629),l=i(85879),u=i(72786),d=i(48218),h=i(8357),g=i(67384),m=i(30168);function f(){var e=(0,m.Z)(['\n    <div class="mb-quick-registration__form-container" data-analytics-container="{\'blade\': \'quick-registration\'}">\n        <div class="mbs-quick-registration__form" data-qa-id="mbs-quick-registration__form">\n            <div class="mbs-quick-registration__header" data-qa-id="mbs-quick-registration__header">\n                ','\n            </div>\n            <div class="mbs-quick-registration__login-container" data-qa-id="mbs-quick-registration__login-container"></div>\n\n            ','\n\n            <div class="mbs-quick-registration__drawer-container" aria-hidden="','">\n                <div class="mbs-quick-registration__input-container" data-qa-id="mbs-quick-registration__first-name">\n                    <div class="mbs-quick-registration__first-name"></div>\n                </div>\n                <div class="mbs-quick-registration__input-container" data-qa-id="mbs-quick-registration__last-name">\n                    <div class="mbs-quick-registration__last-name"/></div>\n                </div>\n                <div class="mbs-quick-registration__input-container" data-qa-id="mbs-quick-registration__email">\n                    <div class="mbs-quick-registration__email"></div>\n                </div>\n                <div class="mbs-quick-registration__recaptcha-container" data-qa-id="mbs-quick-registration__recaptcha">\n                    <div class="mbs-quick-registration__recaptcha">\n                    </div>\n                </div>\n                <div class="mbs-quick-registration__policy-container" data-qa-id="mbs-quick-registration__policy">\n                    <div class="mbs-quick-registration__policy"/></div>\n                </div>\n                ','\n                <div class="mbs-quick-registration__submit-container">\n                    <button class="mbs-quick-registration__submit button button_primary button--full-width disabled disabled--visually"\n                            type="submit"\n                            data-qa-id="mbs-quick-registration__submit"\n                            data-analytics-trigger="','">\n                        ','\n                    </button>\n                </div>\n                <div id="error-message-display-info" class="mbs-quick-registration__error-message" data-qa-id="mbs-quick-registration__error-message"></div>\n            </div>\n        </div>\n    </div>']);return f=function(){return e},e}var p={};function v(e){if("OK"===e.result.response.status){var t=new Date,i=e.result.response.result.tkn;return t.setTime(t.getTime()+864e5),document.cookie="".concat(d.E9.QUICK_REGISTER_ID,"=").concat(e.result.response.result.mbuserId.toString(),"; expires=").concat(t,"; path=/"),document.cookie="".concat(d.E9.QUICK_REGISTER_EMAIL,"=").concat(p.email,"; expires=").concat(t,"; path=/"),document.cookie="".concat(d.E9.QUICK_REGISTER_FIRST_NAME,"=").concat(p.firstName,"; expires=").concat(t,"; path=/"),i&&h.tO.localStorage.create(d.I.LOGIN_TOKEN,i,t),{successful:"OK"===e.result.response.status}}return{successful:!1,existingEmailError:"2003"===e.result.response.errors.code}}function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var k=window.mbNafta.applicationProperties.profileServiceLocale,_={analyticsTrigger:"account-register-quick",disableLogin:!1,onDrawerToggle:h.ZT,onLoginCallback:h.ZT,onSubmitCallback:h.ZT,userInfo:null,analyticsTriggerLogin:"account-login"},w={notRegCreAccount:"Not Registered? Create an account.",firstName:"First Name",lastName:"Last Name",email:"Email",pleaseEnterFirstName:"Please enter your first name",pleaseEnterLastName:"Please enter your last name",invalidEmail:"Please enter a valid email address",privacyPolicyAgreement:"I acknowledge that I have read and agree to the Mercedes-Benz {0}",policies:"policies",register:"Register",validationError:"Please fix the information highlighted above",serverError:{title:"We're sorry, an error has occurred.",description:"We were unable to process your request. Please try again."},existingEmailError:{title:"Registration was unsuccessful.",description:"A user account with this email address already exists."},registeredDescription:"By registering for a Mercedes me ID, you can access saved builds, inventory and more. Already have a Mercedes me ID? {0}.",loginHere:"Login here",updates:"Yes, send me updates about my vehicles. (Optional)"},O="quickRegistrationForm",C=window.mbNafta.ns("pageData").registration,S=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.content=y({},w,{},C,{},i),this.config=y({},_,{},t),this.element=function(e){var t=e.submitButtonLabelText,i=e.content,n=e.analyticsTrigger;return(0,h.e2)(f(),i.heading,i.drawerLabel?'<button class="link link_plain-link mbs-quick-registration__drawer" aria-expanded="false" data-timing="'.concat(d.O3.DELAY_300MS,'ms">\n                    ').concat(i.drawerLabel,' <span class="icon-mb"></span>\n                </button>'):"",i.drawerLabel?"true":"false",i.hideEmailOptIn?"":'\n                <div class="mbs-quick-registration__updates-container" data-qa-id="mbs-quick-registration__updates-container">\n                    <h2 class="mbs-quick-registration__updates-header" data-qa-id="mbs-quick-registration__updates-header">'.concat(i.updatesHeader,'</h2>\n                    <div class="mbs-quick-registration__updates"/></div>\n                </div>'),n,t)}({submitButtonLabelText:this.content.register,content:this.content,analyticsTrigger:this.config.analyticsTrigger})({getNode:!0}),this.onSubmitCallback=this.config.onSubmitCallback,this.onPrevalidate=this.onPrevalidate.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onInvalid=this.onInvalid.bind(this),this.setSubmitState=this.setSubmitState.bind(this),this.updateSubscriptions=this.updateSubscriptions.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.createToggleDrawer(),this.createInputs(),this.createRecaptcha(),this.createForm(),this.config.disableLogin||this.createLogin()}},{key:"cacheDOM",value:function(){this.formElement=this.element.querySelector(".".concat("mbs-quick-registration__form")),this.toggleDrawerBtn=this.element.querySelector(".".concat("mbs-quick-registration__drawer")),this.drawerContainer=this.element.querySelector(".".concat("mbs-quick-registration__drawer-container")),this.firstName=this.element.querySelector(".".concat("mbs-quick-registration__first-name")),this.lastName=this.element.querySelector(".".concat("mbs-quick-registration__last-name")),this.email=this.element.querySelector(".".concat("mbs-quick-registration__email")),this.recaptchaContainer=this.element.querySelector(".".concat("mbs-quick-registration__recaptcha")),this.policy=this.element.querySelector(".".concat("mbs-quick-registration__policy")),this.updates=this.element.querySelector(".".concat("mbs-quick-registration__updates")),this.submit=this.element.querySelector(".".concat("mbs-quick-registration__submit")),this.errorContainerElement=this.element.querySelector(".".concat("mbs-quick-registration__error-message")),this.formContainer=this.element.querySelector(".".concat("mb-quick-registration__form-container")),this.loginContainer=this.element.querySelector(".".concat("mbs-quick-registration__login-container"))}},{key:"createLogin",value:function(){this.login=new g.Z(this.content,this.config),this.loginContainer.appendChild(this.login.render())}},{key:"createForm",value:function(){var e={element:this.formElement,id:O,onPrevalidate:this.onPrevalidate,onSubmit:this.onSubmit,onInvalid:this.onInvalid,prevalidate:!0};this.form=new l.NI(e),this.form.register(this.inputs.firstName),this.form.register(this.inputs.lastName),this.form.register(this.inputs.email),this.form.register(this.inputs.policy),this.form.register(this.inputs.updates),this.form.register(this.recaptcha),this.element.appendChild(this.form.render())}},{key:"createToggleDrawer",value:function(){this.toggleDrawerBtn&&(this.toggleDrawer=new o.ToggleDrawer(this.toggleDrawerBtn,{onToggle:this.config.onDrawerToggle,toggleDrawer:this.drawerContainer}))}},{key:"createInputs",value:function(){var e=this.config.userInfo;this.inputs={firstName:new s.O8({formId:O,type:"text",id:"qr-first-name",required:!0,labelText:this.content.firstName,maxLength:255,validation:[{type:s.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.pleaseEnterFirstName},{type:s.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.pleaseEnterFirstName}],restrictions:[s.O8.RESTRICTION_TYPE.NUMERIC],errorMessage:this.content.pleaseEnterFirstName,valueText:e&&e.firstName||"",analyticsTrigger:"cta-form-firstname"}),lastName:new s.O8({formId:O,type:"text",id:"qr-last-name",required:!0,labelText:this.content.lastName,maxLength:255,validation:[{type:s.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.pleaseEnterLastName},{type:s.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.pleaseEnterLastName}],restrictions:[s.O8.RESTRICTION_TYPE.NUMERIC],errorMessage:this.content.pleaseEnterLastName,valueText:e&&e.lastName||"",analyticsTrigger:"cta-form-lastname"}),email:new s.O8({formId:O,type:"text",id:"qr-email",required:!0,labelText:this.content.email,maxLength:50,validation:[{type:s.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.invalidEmail},{type:s.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.invalidEmail},{type:s.O8.VALIDATION_TYPE.EMAIL,errorMessage:this.content.invalidEmail}],restrictions:[s.O8.RESTRICTION_TYPE.EMAIL_SPECIAL_CHARS],valueText:e&&e.email||"",validateOnBlur:!0,analyticsTrigger:"cta-form-email"}),policy:new s.ZS({formId:O,id:"qr-policy",required:!0,checked:!1,labelText:this.getPrivacyPolicyLabelText(),analyticsTrigger:"checkmark-agree-tos",errorMessage:this.content.invalidLegalNotice,onChangeCallback:this.setSubmitState}),updates:new s.ZS({formId:O,id:"qr-updates",checked:!1,labelText:this.content.updates,analyticsTrigger:"cta-crm-opt-in",inputClassNames:["mbs-quick-registration__updates-checkbox"],onChangeCallback:this.setSubmitState})},this.firstName.parentNode.replaceChild(this.inputs.firstName.render(),this.firstName),this.lastName.parentNode.replaceChild(this.inputs.lastName.render(),this.lastName),this.email.parentNode.replaceChild(this.inputs.email.render(),this.email),this.policy.parentNode.replaceChild(this.inputs.policy.render(),this.policy),this.updates&&this.updates.parentNode.replaceChild(this.inputs.updates.render(),this.updates)}},{key:"getPrivacyPolicyLabelText",value:function(){var e=(0,h.S9)(this.content.privacyPolicyAgreement,/(Mercedes-Benz)/g,['<span class="mb-title-non-breaking">Mercedes-Benz</span>']),t="<a href='".concat(this.content.legalNoticeURI,"' \n                         class='link link_plain-link' \n                         target='_blank'\n                         data-analytics-trigger=\"cta\">").concat(this.content.policies,"</a>");return(0,h.NR)(e,[t])}},{key:"createRecaptcha",value:function(){this.recaptcha=new c.bj({formId:O,errorMessage:C.recaptchaEmptyError,onSuccess:this.setSubmitState}),this.recaptchaContainer.appendChild(this.recaptcha.render())}},{key:"onPrevalidate",value:function(e){e&&this.validationError&&this.hideValidationError()}},{key:"onSubmit",value:function(){var e="".concat(k,"/ciam/quick/register");this.validationError&&this.hideValidationError(),this.serverError&&this.hideServerError(),function(e,t){p.email=t.email,p.firstName=t.fname;var i=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&");return fetch("".concat(e,"?").concat(i),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"POST"}).then((function(e){return e.json()})).then(v).then((function(e){if(!e.successful){if(e.existingEmailError)throw Error("ERR_CONFIRMED_USER_EXISTS");throw Error("Quick Registration Not Successful")}}))}(e,this.getQuickRegData()).then(this.onSubmitSuccess.bind(this)).catch(this.onSubmitError.bind(this))}},{key:"getQuickRegData",value:function(){return{fname:this.inputs.firstName.getValue(),lname:this.inputs.lastName.getValue(),email:this.inputs.email.getValue(),"g-recaptcha-response":this.recaptcha.getValue()}}},{key:"onSubmitSuccess",value:function(){var e={email:this.inputs.email.getValue(),firstName:this.inputs.firstName.getValue(),lastName:this.inputs.lastName.getValue()};this.inputs.updates.getValue()&&this.updateSubscriptions(e),this.onSubmitCallback(e)}},{key:"updateSubscriptions",value:function(e){var t={country:window.mbNafta.pageData.country,language:window.mbNafta.pageData.language,endpoints:this.content.endpoints,showAccountSubscriptions:!0},i=this.inputs.updates.getValue(),n={subscriptions:[{subscriptionId:"saved_inventory_price_change",optIn:i},{subscriptionId:"res_req_price_change",optIn:i},{subscriptionId:"saved_inventory_veh_sold",optIn:i},{subscriptionId:"res_req_veh_sold",optIn:i},{subscriptionId:"saved_inventory_res_status",optIn:i},{subscriptionId:"saved_build_view_similar",optIn:i}]};u.F.submitUpdate(this.content.optinNameInSubscribeCallFlag?{emailId:encodeURIComponent(e.email),firstName:encodeURIComponent(e.firstName),lastName:encodeURIComponent(e.lastName)}:{emailId:encodeURIComponent(e.email)},n,t)}},{key:"onSubmitError",value:function(e){this.showServerError(e)}},{key:"onInvalid",value:function(){this.showValidationError()}},{key:"showValidationError",value:function(){var e,t;this.validationError||(this.validationError=new l.Xq({description:this.content.validationError})),this.serverError&&this.hideServerError(),this.validationError.show(this.errorContainerElement),null===(e=this.toggleDrawer)||void 0===e||e.updateExpandedHeight(),null===(t=this.element.querySelector(".form-error-message"))||void 0===t||t.focus()}},{key:"showServerError",value:function(e){var t,i="ERR_CONFIRMED_USER_EXISTS"===e.message;this.serverError||(this.serverError=new l.Xq({title:i?this.content.existingEmailError.title:this.content.serverError.title,description:i?this.content.existingEmailError.description:this.content.serverError.description})),this.validationError&&this.hideValidationError(),this.serverError.show(this.errorContainerElement),null===(t=this.toggleDrawer)||void 0===t||t.updateExpandedHeight();var n=this.element.querySelector(".form-error-message");this.toggleDrawer&&n&&setTimeout((function(){n.focus(),n.scrollIntoView({behavior:"smooth"})}),d.O3.DELAY_300MS)}},{key:"hideValidationError",value:function(){this.validationError.hide()}},{key:"hideServerError",value:function(){this.serverError.hide()}},{key:"setSubmitState",value:function(){this.inputs.policy.validate();var e=this.recaptcha.isValid()&&this.inputs.policy.isValid();this.submit.classList[e?"remove":"add"]("disabled")}},{key:"render",value:function(){return this.element}},{key:"destroyForm",value:function(){Object.values(this.inputs).forEach((function(e){e.destroy()})),this.form.destroy()}},{key:"destroy",value:function(){this.destroyForm(),this.element.remove()}}]),e}()},67384:function(e,t,i){i.d(t,{Z:function(){return h}});var n=i(4942),r=i(15671),a=i(43144),o=i(8357),s=i(52597),c=i(30168);function l(){var e=(0,c.Z)(['\n    <div class="mbs-quick-registration__login" data-qa-id="mbs-quick-registration__login">\n        ',"\n    </div>\n"]);return l=function(){return e},e}function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var d={analyticsTriggerLogin:"account-login"},h=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;(0,r.Z)(this,e),this.content=t,this.config=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},d,{},i),this.authAPI=new s.$S;var a=this.getLoginText();this.element=function(e){return(0,o.e2)(l(),e)}(a)({getNode:!0}),this.loginLinkClickHandler=this.loginLinkClickHandler.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM()}},{key:"getLoginText",value:function(){var e=this.content.registeredDescription,t="<button\n                         class='link link_plain-link mbs-quick-registration__login-link'\n                         data-qa-id='mbs-quick-registration__login-link'\n                         data-analytics-trigger=\"".concat(this.config.analyticsTriggerLogin,'">').concat(this.content.loginHere,"</button>");return(0,o.NR)(e,[t])}},{key:"cacheDOM",value:function(){this.loginLink=this.element&&this.element.querySelector(".".concat("mbs-quick-registration__login-link")),this.loginLink&&this.attachEvents()}},{key:"attachEvents",value:function(){this.loginLink.addEventListener("click",this.loginLinkClickHandler)}},{key:"detachEvents",value:function(){this.loginLink.removeEventListener("click",this.loginLinkClickHandler)}},{key:"loginLinkClickHandler",value:function(e){e.preventDefault(),this.config.onLoginCallback(),this.authAPI.authRedirect(s.$S.AUTH_PAGES.LOGIN,this.config.redirectURL)}},{key:"render",value:function(){return this.element}},{key:"destroy",value:function(){this.detachEvents(),this.element.remove()}}]),e}()},81252:function(e,t,i){i.d(t,{I:function(){return a.ToolTipComponent}});var n={};i.r(n),i.d(n,{ToolTip:function(){return o.ToolTip},toolTipParser:function(){return o.toolTipParser},toolTipTemplate:function(){return o.toolTipTemplate}});var r=i(4942),a=i(40838),o=i(14569);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}!function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}}({},n,{ToolTipComponent:a.ToolTipComponent})},75297:function(e,t,i){i.d(t,{$U:function(){return g},AG:function(){return k},MS:function(){return h},W1:function(){return p},d8:function(){return d},io:function(){return f},m5:function(){return b},pK:function(){return _}});var n=i(4942),r=i(52597),a=i(8357),o=i(48218);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={auth:"savedBuildAuth",unauth:"savedBuildUnAuth",lastBuild:"lastBuild",loginRedirect:"savedBuildLoginRedirect"},u={body:null,headers:{"Content-type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"POST"};function d(e){var t=Date.now(),i=window.localStorage.getItem(e);if(i){if((i=JSON.parse(i))&&i.expiryTimestamp&&i.expiryTimestamp<t)return window.localStorage.removeItem(e),null;if(i)return i.data}return null}function h(e,t){var i=new Date;i.setTime(i.getTime()+1728e5);var n=JSON.stringify({data:e,expiryTimestamp:i.getTime()}),r=t||l.lastBuild;window.localStorage.setItem(r,n)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=(new Date).getTime(),n=JSON.stringify({data:e,timestamp:i});t&&window.localStorage.setItem(l[t],n);var a=new r.$S,o=a.isLoggedIn(),s=a.isPartiallyLoggedIn();o?window.localStorage.setItem(l.auth,n):s&&window.localStorage.setItem(l.unauth,n)}function m(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if("OK"===e.result.status||e.status.ok){var r=c({buildId:e.result.buildId?e.result.buildId:n,buildName:t},i);return g(r),r}throw new Error(JSON.stringify(e))}function f(e,t,i){var n=(new r.$S).isPartiallyLoggedIn(),s=n?i.quickRegisterSaveBuildApiUri:i.saveBuildApiUri,c="".concat(s).concat((0,a.HD)({buildName:t}));return(n?r.Rh.authenticationFetch(c,{headers:{MBUSA_AUTH_QUICK_REGISTER_ID:a.pR.getCookie(o.E9.QUICK_REGISTER_ID)},body:e}):r.Rh.authenticationFetch(c,{body:e})).then((function(i){return m(i,t,e)}))}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&window.localStorage.removeItem(l[e]);var t=new r.$S,i=t.isLoggedIn();t.isPartiallyLoggedIn()||window.localStorage.removeItem(l.unauth),i||window.localStorage.removeItem(l.auth)}function v(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=(new Date).getTime(),n=window.localStorage.getItem(l.loginRedirect),a=n?JSON.parse(n):null;if(a&&i>a.timestamp+36e5&&p("loginRedirect"),t){var o=window.localStorage.getItem(l[t]);e=o?JSON.parse(o):null}else{var s=(new r.$S).isPartiallyLoggedIn()?l.unauth:l.auth,c=window.localStorage.getItem(s);e=c?JSON.parse(c):null}return e?JSON.stringify(e.data):null}function b(){return"string"==typeof v(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}function y(e,t){var i=c({buildId:t,buildName:e.owBuildName||null,isOwner:e.isOwner},e.owBuildJSON);return i.isOwner&&g(i),i}function k(e,t,i,n){var o={buildId:i,buildName:t},s="".concat(n.updateBuildApiUri).concat((0,a.HD)(o));return r.Rh.authenticationFetch(s,{body:e}).then((function(n){return m(n,t,e,i)}))}function _(e,t,i){var n=(0,a.NR)(e.renameSavedBuildUri,{id:t,nickname:i});return r.Rh.authenticationFetch(n)}t.ZP={getLocalSavedBuild:v,hasApplyForCredit:function(e){return e.some((function(e){return"apply-for-credit"===e.type}))},getSavedBuild:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=c({buildId:e},i&&{emailId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""}),s=i?"".concat(t.retrieveBuildDDTApiUri).concat((0,a.HD)(o)):"".concat(t.retrieveBuildApiUri).concat((0,a.HD)(o));if(i){var l=c({},u,{},n);return fetch(s,{headers:c({},l.headers),body:l.body?JSON.stringify(l.body):null,method:l.method}).then((function(e){return e.json()})).then((function(t){return y(t.result,e)})).catch((function(e){throw console.warn(e),e}))}return r.Rh.authenticationFetch(s).then((function(t){return y(t.result,e)}))},hasSaveAPIUri:function(e){return e&&""!==e.saveBuildApiUri&&""!==e.updateBuildApiUri},hasSavedBuild:b,hasSaveFeature:function(e){return e.some((function(e){return"save-your-build"===e.type}))},retrieveLastBuild:d,storeLastBuild:h,storeSaveBuild:g,submitSaveBuild:f,updateSavedBuild:k,removeSavedBuilds:p}}}]);
//# sourceMappingURL=a898142aef24db4e29ea.bundle.js.map